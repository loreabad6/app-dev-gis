<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.57">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>5&nbsp; R package development – R for reproducible spatial analysis</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 0em;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<link href="../lessons/session_6.html" rel="next">
<link href="../lessons/session_4.html" rel="prev">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="../site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script src="../site_libs/quarto-contrib/glightbox/glightbox.min.js"></script>
<link href="../site_libs/quarto-contrib/glightbox/glightbox.min.css" rel="stylesheet">
<link href="../site_libs/quarto-contrib/glightbox/lightbox.css" rel="stylesheet">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="../html-styling/style.css">
</head>

<body class="nav-sidebar floating slimcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../lessons/session_1.html">Lessons</a></li><li class="breadcrumb-item"><a href="../lessons/session_5.html"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">R package development</span></a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="../">R for reproducible spatial analysis</a> 
        <div class="sidebar-tools-main">
    <a href="https://github.com/loreabad6/app-dev-gis" title="Source Code" class="quarto-navigation-tool px-1" aria-label="Source Code"><i class="bi bi-github"></i></a>
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Syllabus</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true">
 <span class="menu-text">Lessons</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../lessons/session_1.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Fundamentals of R</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../lessons/session_2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Tidy (spatial) data</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../lessons/session_3.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">R-spatial ecosystem</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../lessons/session_4.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">GIS: in-house and bridges</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../lessons/session_5.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">R package development</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../lessons/session_6.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Quarto dashboards</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true">
 <span class="menu-text">Practicals</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../practicals/Practical1/Practical1-Getting-Started-R.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Practical 1</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../practicals/Practical2/Practical2-Base-R.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Practical 2</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../practicals/Practical3/Practical3-Writing-Functions.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Practical 3</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../practicals/Practical4/Practical4-DataViz.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Practical 4</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../practicals/Practical5/Practical5-Spatial-Data-Analysis.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Practical 5</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../misc/x_error-handling.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Dealing with errors</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../final-project.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Final project</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../refs/references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">References</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#r-packages" id="toc-r-packages" class="nav-link active" data-scroll-target="#r-packages"><span class="header-section-number">5.1</span> R packages</a></li>
  <li><a href="#basic-r-package-structure" id="toc-basic-r-package-structure" class="nav-link" data-scroll-target="#basic-r-package-structure"><span class="header-section-number">5.2</span> Basic R package structure</a></li>
  <li><a href="#requirements-and-good-practice" id="toc-requirements-and-good-practice" class="nav-link" data-scroll-target="#requirements-and-good-practice"><span class="header-section-number">5.3</span> Requirements and good practice</a>
  <ul class="collapse">
  <li><a href="#metadata" id="toc-metadata" class="nav-link" data-scroll-target="#metadata"><span class="header-section-number">5.3.1</span> Metadata</a></li>
  <li><a href="#tests" id="toc-tests" class="nav-link" data-scroll-target="#tests"><span class="header-section-number">5.3.2</span> Tests</a></li>
  <li><a href="#documentation" id="toc-documentation" class="nav-link" data-scroll-target="#documentation"><span class="header-section-number">5.3.3</span> Documentation</a></li>
  <li><a href="#distribution" id="toc-distribution" class="nav-link" data-scroll-target="#distribution"><span class="header-section-number">5.3.4</span> Distribution</a></li>
  </ul></li>
  <li><a href="#your-first-r-package" id="toc-your-first-r-package" class="nav-link" data-scroll-target="#your-first-r-package"><span class="header-section-number">5.4</span> Your first R package!</a></li>
  <li><a href="#further-reading" id="toc-further-reading" class="nav-link" data-scroll-target="#further-reading"><span class="header-section-number">5.5</span> Further reading:</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content page-columns page-full" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../lessons/session_1.html">Lessons</a></li><li class="breadcrumb-item"><a href="../lessons/session_5.html"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">R package development</span></a></li></ol></nav>
<div class="quarto-title">
<h1 class="title"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">R package development</span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<p>In this session you should learn:</p>
<ul class="task-list">
<li><label><input type="checkbox" checked="">what R packages are and their basic structure</label></li>
<li><label><input type="checkbox" checked="">most important elements of packaging and sharing your code</label></li>
<li><label><input type="checkbox" checked="">how to create your first R package</label></li>
</ul>
<section id="r-packages" class="level2" data-number="5.1">
<h2 data-number="5.1" class="anchored" data-anchor-id="r-packages"><span class="header-section-number">5.1</span> R packages</h2>
<blockquote class="blockquote">
<p>An R package is the fundamental unit of shareable code<a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a>.</p>
</blockquote>
<p><strong>So why should you write a package?</strong></p>
<ul>
<li>to share your code with others</li>
<li>to share data with others (e.g.&nbsp;<a href="https://jakubnowosad.com/spData/"><code>{spData}</code></a>)</li>
<li>to automate your workflows (e.g.&nbsp;<a href="https://github.com/loreabad6/terrain"><code>{loreabad6::terrain}</code></a>)</li>
<li>to document your work (using vignettes, e.g. <span class="citation" data-cites="Loiseau_2020">Loiseau et al. (<a href="../refs/references.html#ref-Loiseau_2020" role="doc-biblioref">2020</a>)</span> with <a href="https://github.com/FRBCesab/ecorar"><code>{ecorar}</code></a>)</li>
<li>to become a better programmer!</li>
</ul>
<p><strong>Package forms</strong></p>
<p>The set of files you get in your computer when you install a package are different to the ones you work with when you develop its <strong>source</strong> code. When you build your package, it is compressed into a single file called a <strong>bundle</strong> with extension <code>.tar.gz</code>. The way CRAN distributes packages is in their <strong>binary</strong> form. This is also a single file but unlike a bundle, it is platform specific.</p>
<div id="fig-pkgforms" class="lightbox quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-pkgforms-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="https://r-pkgs.org/diagrams/package-files.png" class="lightbox" data-gallery="quarto-lightbox-gallery-1" title="Figure&nbsp;5.1: Package forms: source vs.&nbsp;bundled vs.&nbsp;binary. Source: @Wickham2023"><img src="https://r-pkgs.org/diagrams/package-files.png" class="img-fluid figure-img"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-pkgforms-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;5.1: Package forms: source vs.&nbsp;bundled vs.&nbsp;binary. Source: <span class="citation" data-cites="Wickham2023">Hadley Wickham (<a href="../refs/references.html#ref-Wickham2023" role="doc-biblioref">2023</a>)</span>
</figcaption>
</figure>
</div>
</section>
<section id="basic-r-package-structure" class="level2" data-number="5.2">
<h2 data-number="5.2" class="anchored" data-anchor-id="basic-r-package-structure"><span class="header-section-number">5.2</span> Basic R package structure</h2>
<div id="fig-pkgstr" class="lightbox quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-pkgstr-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="https://cosimameyer.com/images/single-blog/CS_Package.png" class="lightbox" data-gallery="quarto-lightbox-gallery-2" title="Figure&nbsp;5.2: Package development - basic structure by @meyer2022"><img src="https://cosimameyer.com/images/single-blog/CS_Package.png" class="img-fluid figure-img"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-pkgstr-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;5.2: Package development - basic structure by <span class="citation" data-cites="meyer2022">Meyer (<a href="../refs/references.html#ref-meyer2022" role="doc-biblioref">2022</a>)</span>
</figcaption>
</figure>
</div>
</section>
<section id="requirements-and-good-practice" class="level2 page-columns page-full" data-number="5.3">
<h2 data-number="5.3" class="anchored" data-anchor-id="requirements-and-good-practice"><span class="header-section-number">5.3</span> Requirements and good practice</h2>
<p>We will go through some important elements of an R package and some advice and good practice for package development. This is by all means not a comprehensive list. For a better overview and also to get much more in depth into package development, you have the <a href="https://r-pkgs.org/">“R Packages” book</a> by <span class="citation" data-cites="Wickham2023">Hadley Wickham (<a href="../refs/references.html#ref-Wickham2023" role="doc-biblioref">2023</a>)</span>.</p>
<section id="metadata" class="level3 page-columns page-full" data-number="5.3.1">
<h3 data-number="5.3.1" class="anchored" data-anchor-id="metadata"><span class="header-section-number">5.3.1</span> Metadata</h3>
<p>Information on your package is stored in the package metadata. The <code>DESCRIPTION</code> file is the place where you will find the name of the package, its description, maintainers, version, dependencies, license, etc.</p>

<div class="no-row-height column-margin column-container"><div class="">
<p>A <a href="https://github.com/luukvdmeer/sfnetworks/blob/main/DESCRIPTION"><code>DESCRIPTION</code> file</a> in the wild.</p>
</div></div><div id="fig-descfile" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-descfile-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<pre id="fig-descfile"><code>Package: mypackage
Title: What the Package Does (One Line, Title Case)
Version: 0.0.0.9000
Authors@R: 
    person("First", "Last", , "first.last@example.com",
    role = c("aut", "cre"))
Description: What the package does (one paragraph).
License: `use_mit_license()`, `use_gpl3_license()` or 
    friends to pick a license
Encoding: UTF-8
Roxygen: list(markdown = TRUE)
RoxygenNote: 7.3.2</code></pre>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-descfile-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;5.3: Basic <code>DESCRIPTION</code> file structure. Source: <span class="citation" data-cites="Wickham2023">Hadley Wickham (<a href="../refs/references.html#ref-Wickham2023" role="doc-biblioref">2023</a>)</span>.
</figcaption>
</figure>
</div>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
A note on Licenses
</div>
</div>
<div class="callout-body-container callout-body">
<p>From <a href="https://luukvdmeer.github.io/my-first-r-package/guide.html">Lucas van der Meer workshop on R package creation</a>:</p>
<blockquote class="blockquote">
<p><strong>Every released open-source project should have a license!</strong> Without a license, the default copyright laws apply, meaning that you retain all rights to your source code and no one may reproduce, distribute, or create derivative works from your work. Also, a license specifies that the software is released without any kind of warranty. Your are basically telling people: <em>“Do with it what you want, but don’t sue me if anything goes wrong!”</em>. Many licenses will also require people to attribute you once they copy parts of your code.</p>
</blockquote>
<p>This page has a good <a href="https://choosealicense.com/licenses/">overview of Licenses</a> to help you choose one for your project.</p>
</div>
</div>
</section>
<section id="tests" class="level3 page-columns page-full" data-number="5.3.2">
<h3 data-number="5.3.2" class="anchored" data-anchor-id="tests"><span class="header-section-number">5.3.2</span> Tests</h3>
<p><em>Unit</em> testing is a way to validate expected behavior of isolated source code. <em>Integration</em> testing is a way to test multiple parts of a software system as a group. In whatever form, testing is a vital for package development as it ensures your code does what you want it to do.</p>

<div class="no-row-height column-margin column-container"><div class="">
<p><img src="https://bilisim.io/wp-content/uploads/2023/01/unit_test_1.jpeg" class="img-fluid"></p>
</div></div><p>Testing gives you the following benefits: - fewer bugs - better code structure - robust code</p>
<p><img src="https://testthat.r-lib.org/logo.png" class="img-fluid" style="width:10.0%"> The package <a href="https://testthat.r-lib.org/"><code>{testthat}</code></a> is your companion for R test writing.</p>
</section>
<section id="documentation" class="level3 page-columns page-full" data-number="5.3.3">
<h3 data-number="5.3.3" class="anchored" data-anchor-id="documentation"><span class="header-section-number">5.3.3</span> Documentation</h3>
<p>You have learned that when you do <code>?functionname</code> you can access the help page of a specific function in a package.</p>

<div class="no-row-height column-margin column-container"><div class="">
<p>A <a href="https://github.com/luukvdmeer/sfnetworks/blob/main/R/travel.R">documented function</a> in the wild.</p>
</div></div><div class="cell styled-output">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>?sfnetworks<span class="sc">::</span>st_network_travel</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>When you develop a package, writing this documentation is your job! 🎉</p>
<p>As you just saw, your code and your documentation are located in the same R file. That way, if you do any changes to your function, you will (hopefully) remember to update the documentation too!</p>
<p><img src="https://roxygen2.r-lib.org/logo.png" class="img-fluid" style="width:10.0%"> The package <a href="https://roxygen2.r-lib.org/"><code>{roxygen2}</code></a> will help you write documentation.</p>
<p><strong>Package website</strong></p>
<p>Writing documentation for your functions is going to be a very good basis for you to build a website for your package.</p>

<div class="no-row-height column-margin column-container"><div class="">
<p>A <a href="https://luukvdmeer.github.io/sfnetworks/dev/reference/st_network_travel.html">documented function part of the package website</a>… in the wild.</p>
</div></div><p>Your website can also host your package vignettes (which are also part of the package itself). Vignettes are useful to show the basic functionalities of your package, specially if there are certain functions that are used together for a specific workflow. They can be written as a Quarto article (which you are familiar with already!). They are shown as articles on the website of the package.</p>
<p><img src="https://pkgdown.r-lib.org/logo.png" class="img-fluid" style="width:10.0%"> The package <a href="https://pkgdown.r-lib.org/"><code>{pkgdown}</code></a> will help you build your package website.</p>
</section>
<section id="distribution" class="level3" data-number="5.3.4">
<h3 data-number="5.3.4" class="anchored" data-anchor-id="distribution"><span class="header-section-number">5.3.4</span> Distribution</h3>
<p><strong>Should my package go to CRAN?</strong></p>
<p>CRAN as you know is the repository for R packages. Here, your package will be reviewed by other people before its first release. This can be a bit of a longer process since some minimum requirements are expected. These include that your package passes checks in different R versions and OS platforms, that your examples, vignettes, tests run completely smooth without errors, etc.</p>
<p>Once accepted, you will have certain <strong>responsibilities</strong> as package maintainer. CRAN runs automatic checks of your package, and if for some reason your package does not pass these checks, you will get a notice to fix the errors or your package will not be any more on CRAN. The usual time is two weeks.</p>
<p>Usually, packages that go to CRAN are those that provide something novel and new to the ecosystem of available packages. If you have created a package to reproduce a very specific workflow for your project, or to accompany a research paper, this would typically not be submitted to CRAN. Those packages are usually in other type of repositories like GitHub.</p>
<p><strong>Version control for R packages</strong></p>
<div id="fig-git" class="lightbox quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-git-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="https://cdn.myportfolio.com/45214904-6a61-4e23-98d6-b140f8654a40/68739659-fb6f-41e8-9813-32e1de3d82c0_rw_1920.png?h=4b046efe7664ab833358c241b10bd8e6" class="lightbox" data-gallery="quarto-lightbox-gallery-3" title="Figure&nbsp;5.4: Basic git workflow by Allison Horst"><img src="https://cdn.myportfolio.com/45214904-6a61-4e23-98d6-b140f8654a40/68739659-fb6f-41e8-9813-32e1de3d82c0_rw_1920.png?h=4b046efe7664ab833358c241b10bd8e6" class="img-fluid figure-img"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-git-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;5.4: Basic git workflow by <a href="https://allisonhorst.com/">Allison Horst</a>
</figcaption>
</figure>
</div>
<p>You are already aware, through the various hints and practicals in the previous sessions, that GitHub or other platforms for version control are commonly used to host R packages. Version control is commonly used in software development to keep track of the changes one does to their code, and to easily revert to previous versions when something breaks.</p>
<p>Most R packages have a GitHub or GitLab repository where the development version of the work is hosted, while also being submitted to CRAN. Having your package on GitHub or any other platform makes it easier for other people to browse the code, and is also a useful tool to collect issues or open up discussions around the package. In addition, tools like GitHub pages allow you to host the documentation of your package in a fairly easy manner.</p>
</section>
</section>
<section id="your-first-r-package" class="level2 page-columns page-full" data-number="5.4">
<h2 data-number="5.4" class="anchored" data-anchor-id="your-first-r-package"><span class="header-section-number">5.4</span> Your first R package!</h2>
<p>In this section, you will be creating your first (maybe?) R package. We will call this package <code>yournameR</code>, so for me it will be <code>lorenaR</code>.</p>
<p>We will be using the function you wrote last week as the R code to package, so make sure to have it on hand.</p>
<div class="column-page callout callout-style-default callout-warning no-icon callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
💻 Code at Work: Your Turn to Execute
</div>
</div>
<div class="callout-body-container callout-body">
<ol type="1">
<li>Install the relevant R packages</li>
</ol>
<div class="cell styled-output">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">"devtools"</span>)</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">"pkgdown"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ol start="2" type="1">
<li>Create a new RStudio project with a package structure</li>
</ol>
<ul>
<li>Go to File/New Project</li>
<li>Select New Directory -&gt; R Package</li>
<li>Add your package name, select a directory to save (avoid a directory that is already a RStudio project).</li>
</ul>
<p>You can alternative create this from the console using <code>devtools::create_package("path_to_dir")</code></p>
<ol start="3" type="1">
<li>Load the necessary packages in the new RStudio session</li>
</ol>
<div class="cell styled-output">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(devtools)</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(usethis) <span class="co"># installed with devtools</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(pkgdown)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ol start="4" type="1">
<li><p>Edit the <code>DESCRIPTION</code> file</p></li>
<li><p>Open a new R script and copy the code for your function from last session. Save it in the <code>R/</code> directory.</p></li>
<li><p>Run <code>load_all()</code> and test your function!</p></li>
<li><p>Add dependencies</p></li>
</ol>
<p>The functions you wrote last week all depend on other packages. To import those libraries into your package, you can use the function below from <code>{usethis}</code>:</p>
<div class="cell styled-output">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="fu">use_package</span>(<span class="st">"packagename"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ol start="8" type="1">
<li>Document your function.</li>
</ol>
<p>You can use markdown syntax. At the top of the R file fill in the following fields. Don’t forget to specify the functions you used from other packages in the <code>@importFrom</code> field</p>
<pre><code>#' Write here a title of your function
#'
#' Write here a short description of your function.
#'
#' @param name Describe here what the name parameter does. 
#'
#' @return Describe here what the function returns.
#'
#' @examples
#' Give here an example of how to use the function.
#' 
#' @importFrom package function_name
#'
#' @export</code></pre>
<ol start="9" type="1">
<li>Run <code>document()</code>.</li>
</ol>
<p>This will parse your function documentation and store it in a new directory called man/. It will also automatically update your NAMESPACE file to list your function as an exported object of your package.</p>
<ol start="10" type="1">
<li>Add a License</li>
</ol>
<p>Once you know which License you want to add, you can add it to your package using the <code>{usethis}</code> package functions <code>use_*_license()</code>. If you are still not versed in licensing, you can choose a permissive license, without too many restrictions (which are usually the go-to for open-source projects), such as Apache 2.0 or MIT.</p>
<div class="cell styled-output">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="fu">use_apache_license</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>You can also add the license to your <code>README.md</code> file with the text:</p>
<pre><code>## License

Copyright 2025 [your name]

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.</code></pre>
<ol start="11" type="1">
<li>Check your package</li>
</ol>
<p>The <code>check()</code> function will make sure that you have filled the metadata sections correctly, that you documented your functions properly, run examples, and ultimately check if the package can be installed.</p>
<p>Running <code>check()</code> often when developing your package is going to help you identify any bugs. When submitting your package to CRAN, your checks should be all clean!</p>
<ol start="12" type="1">
<li>Install your package</li>
</ol>
<p>Running <code>install()</code> will allow you to install and use your package!</p>
<ol start="13" type="1">
<li>Extras!</li>
</ol>
<p>If you got up to here and you don’t want to go home yet, try the next tasks:</p>
<ul>
<li><strong>Write unit tests.</strong> You can get the basic setup using <code>use_testthat()</code> and <code>use_test(yourfunctionname)</code>.</li>
<li><strong>Write a vignette.</strong> Set it up using <code>use_vignette("filename-of-the-vignette")</code></li>
<li><strong>Create a package website.</strong> You can use <code>use_pkgdown()</code> to set up the structure. You can view a local rendering with <code>build_site()</code>.</li>
</ul>
</div>
</div>
</section>
<section id="further-reading" class="level2" data-number="5.5">
<h2 data-number="5.5" class="anchored" data-anchor-id="further-reading"><span class="header-section-number">5.5</span> Further reading:</h2>
<ul>
<li><a href="https://r-pkgs.org/whole-game.html">The Whole Game</a> chapter in <span class="citation" data-cites="Wickham2023">Hadley Wickham (<a href="../refs/references.html#ref-Wickham2023" role="doc-biblioref">2023</a>)</span> for a quick intro to a simple package. Read the whole book to dive deeper into R package development.</li>
<li><a href="https://r-pkgs.org/structure.html">Pacakge structure and state</a> chapter in <span class="citation" data-cites="Wickham2023">Hadley Wickham (<a href="../refs/references.html#ref-Wickham2023" role="doc-biblioref">2023</a>)</span>.</li>
<li><a href="https://r-pkgs.org/license.html">Licensing</a> chapter in <span class="citation" data-cites="Wickham2023">Hadley Wickham (<a href="../refs/references.html#ref-Wickham2023" role="doc-biblioref">2023</a>)</span>.</li>
<li>“Sharing and organizing research products as R packages” by <span class="citation" data-cites="Vuorre_2020">Vuorre &amp; Crump (<a href="../refs/references.html#ref-Vuorre_2020" role="doc-biblioref">2020</a>)</span></li>
<li>“Understanding the Basics of Package Writing in R” by <span class="citation" data-cites="meyer2022">Meyer (<a href="../refs/references.html#ref-meyer2022" role="doc-biblioref">2022</a>)</span></li>
<li>“Why your research deserves to be an R package” by <span class="citation" data-cites="vreede2023">Vreede (<a href="../refs/references.html#ref-vreede2023" role="doc-biblioref">2023</a>)</span></li>
<li><a href="https://rstudio.github.io/cheatsheets/package-development.pdf">Package development cheatsheet</a></li>
<li><a href="https://luukvdmeer.github.io/my-first-r-package/guide.html">Create your first R package</a> workshop at the Geoinformatics PhD seminar by Lucas van der Meer</li>
</ul>


<div id="refs" class="references csl-bib-body hanging-indent" data-entry-spacing="0" data-line-spacing="2" role="list" style="display: none">
<div id="ref-R-quarto" class="csl-entry" role="listitem">
Allaire, J., &amp; Dervieux, C. (2024). <em>Quarto: R interface to quarto markdown publishing system</em>. <a href="https://github.com/quarto-dev/quarto-r">https://github.com/quarto-dev/quarto-r</a>
</div>
<div id="ref-andreo2024grass" class="csl-entry" role="listitem">
Andreo, V. (2024). <em>Get started with GRASS &amp; r: The rgrass package</em>. <a href="https://grass-tutorials.osgeo.org/content/tutorials/get_started/fast_track_grass_and_R.html" class="uri">https://grass-tutorials.osgeo.org/content/tutorials/get_started/fast_track_grass_and_R.html</a>.
</div>
<div id="ref-R-gdalcubes" class="csl-entry" role="listitem">
Appel, M. (2024). <em>Gdalcubes: Earth observation data cubes from satellite image collections</em>. <a href="https://github.com/appelmar/gdalcubes">https://github.com/appelmar/gdalcubes</a>
</div>
<div id="ref-gdalcubes2019" class="csl-entry" role="listitem">
Appel, M., &amp; Pebesma, E. (2019). On-demand processing of data cubes from satellite image collections with the gdalcubes library. <em>Data</em>, <em>4</em>(3). <a href="https://www.mdpi.com/2306-5729/4/3/92">https://www.mdpi.com/2306-5729/4/3/92</a>
</div>
<div id="ref-gdalcubes2021" class="csl-entry" role="listitem">
Appel, M., Pebesma, E., &amp; Mohr, M. (2021). <em>Cloud-based processing of satellite image collections in r using STAC, COGs, and on-demand data cubes</em>. <a href="https://r-spatial.org/r/2021/04/23/cloud-based-cubes.html">https://r-spatial.org/r/2021/04/23/cloud-based-cubes.html</a>
</div>
<div id="ref-R-mapview" class="csl-entry" role="listitem">
Appelhans, T., Detsch, F., Reudenbach, C., &amp; Woellauer, S. (2023). <em>Mapview: Interactive viewing of spatial data in r</em>. <a href="https://github.com/r-spatial/mapview">https://github.com/r-spatial/mapview</a>
</div>
<div id="ref-R-rgee" class="csl-entry" role="listitem">
Aybar, C. (2023). <em>Rgee: R bindings for calling the earth engine API</em>. <a href="https://github.com/r-spatial/rgee/">https://github.com/r-spatial/rgee/</a>
</div>
<div id="ref-spatstat2015" class="csl-entry" role="listitem">
Baddeley, A., Rubak, E., &amp; Turner, R. (2015). <em>Spatial point patterns: Methodology and applications with <span>R</span></em>. Chapman; Hall/CRC Press. <a href="https://www.routledge.com/Spatial-Point-Patterns-Methodology-and-Applications-with-R/Baddeley-Rubak-Turner/p/book/9781482210200/">https://www.routledge.com/Spatial-Point-Patterns-Methodology-and-Applications-with-R/Baddeley-Rubak-Turner/p/book/9781482210200/</a>
</div>
<div id="ref-spatstat2005" class="csl-entry" role="listitem">
Baddeley, A., &amp; Turner, R. (2005). <span class="nocase">spatstat</span>: An <span>R</span> package for analyzing spatial point patterns. <em>Journal of Statistical Software</em>, <em>12</em>(6), 1–42. <a href="https://doi.org/10.18637/jss.v012.i06">https://doi.org/10.18637/jss.v012.i06</a>
</div>
<div id="ref-spatstat2013" class="csl-entry" role="listitem">
Baddeley, A., Turner, R., Mateu, J., &amp; Bevan, A. (2013). Hybrids of gibbs point process models and their implementation. <em>Journal of Statistical Software</em>, <em>55</em>(11), 1–43. <a href="https://doi.org/10.18637/jss.v055.i11">https://doi.org/10.18637/jss.v055.i11</a>
</div>
<div id="ref-bivand2022rgrass" class="csl-entry" role="listitem">
Bivand, R. (2022). <em>Modernizing the r-GRASS interface: Confronting barn-raised OSGeo libraries and the evolving r.*spatial package ecosystem</em>. <a href="https://rsbivand.github.io/foss4g_2022/modernizing_220822.html" class="uri">https://rsbivand.github.io/foss4g_2022/modernizing_220822.html</a>.
</div>
<div id="ref-R-rgrass" class="csl-entry" role="listitem">
Bivand, R. (2024a). <em>Rgrass: Interface between GRASS geographical information system and r</em>. <a href="https://rsbivand.github.io/rgrass/">https://rsbivand.github.io/rgrass/</a>
</div>
<div id="ref-R-spdep" class="csl-entry" role="listitem">
Bivand, R. (2024b). <em>Spdep: Spatial dependence: Weighting schemes, statistics</em>. <a href="https://github.com/r-spatial/spdep/">https://github.com/r-spatial/spdep/</a>
</div>
<div id="ref-spdep2013" class="csl-entry" role="listitem">
Bivand, R. S., Pebesma, E., &amp; Gómez-Rubio, V. (2013). <em>Applied spatial data analysis with <span>R</span>, second edition</em>. Springer, NY. <a href="https://asdar-book.org/">https://asdar-book.org/</a>
</div>
<div id="ref-R-spData" class="csl-entry" role="listitem">
Bivand, R., Nowosad, J., &amp; Lovelace, R. (2024). <em>spData: Datasets for spatial analysis</em>. <a href="https://jakubnowosad.com/spData/">https://jakubnowosad.com/spData/</a>
</div>
<div id="ref-spdep2018" class="csl-entry" role="listitem">
Bivand, R., &amp; Wong, D. W. S. (2018). Comparing implementations of global and local indicators of spatial association. <em>TEST</em>, <em>27</em>(3), 716–748. <a href="https://doi.org/10.1007/s11749-018-0599-x">https://doi.org/10.1007/s11749-018-0599-x</a>
</div>
<div id="ref-Camara_sits_2023" class="csl-entry" role="listitem">
Câmara, G., Simoes, R., Souza, F., Pelletier, C., Sanchez, A., Andrade, P., Ferreira, K., &amp; Queiroz, G. (2023). <em><span class="nocase">sits</span>: Satellite image time series analysis on <span>Earth</span> observation data cubes</em>. <a href="https://e-sensing.github.io/sitsbook/index.html">https://e-sensing.github.io/sitsbook/index.html</a>
</div>
<div id="ref-cetinkaya2024quarto" class="csl-entry" role="listitem">
Çetinkaya-Rundel, M. (2024). <em>Quarto dashboards video series</em>. <a href="https://quarto.org/docs/blog/posts/2024-11-22-dashboards-workshop/" class="uri">https://quarto.org/docs/blog/posts/2024-11-22-dashboards-workshop/</a>.
</div>
<div id="ref-R-qgisprocess" class="csl-entry" role="listitem">
Dunnington, D., Vanderhaeghe, F., Caha, J., &amp; Muenchow, J. (2024a). <em>Qgisprocess: Use QGIS processing algorithms</em>. <a href="https://r-spatial.github.io/qgisprocess/">https://r-spatial.github.io/qgisprocess/</a>
</div>
<div id="ref-qgisprocess2024" class="csl-entry" role="listitem">
Dunnington, D., Vanderhaeghe, F., Caha, J., &amp; Muenchow, J. (2024b). <em>R package qgisprocess: Use QGIS processing algorithms. Version 0.4.1</em>. <a href="https://r-spatial.github.io/qgisprocess/">https://r-spatial.github.io/qgisprocess/</a>
</div>
<div id="ref-R-digest" class="csl-entry" role="listitem">
Eddelbuettel, D. (2024). <em>Digest: Create compact hash digests of r objects</em>. <a href="https://github.com/eddelbuettel/digest">https://github.com/eddelbuettel/digest</a>
</div>
<div id="ref-gstat2016" class="csl-entry" role="listitem">
Gräler, B., Pebesma, E., &amp; Heuvelink, G. (2016). Spatio-temporal interpolation using gstat. <em>The R Journal</em>, <em>8</em>, 204–218. <a href="https://journal.r-project.org/archive/2016/RJ-2016-014/index.html">https://journal.r-project.org/archive/2016/RJ-2016-014/index.html</a>
</div>
<div id="ref-lubridate2011" class="csl-entry" role="listitem">
Grolemund, G., &amp; Wickham, H. (2011). Dates and times made easy with <span class="nocase">lubridate</span>. <em>Journal of Statistical Software</em>, <em>40</em>(3), 1–25. <a href="https://www.jstatsoft.org/v40/i03/">https://www.jstatsoft.org/v40/i03/</a>
</div>
<div id="ref-Wickham2023" class="csl-entry" role="listitem">
Hadley Wickham, J. B. (2023). <em>R packages</em> (2nd ed.). O’Reilly Media.
</div>
<div id="ref-Hijmans_terra_2020" class="csl-entry" role="listitem">
Hijmans, R. J. (2020). <em>Terra and luna: New r packages scalable geospatial data analysis</em>. Big Data in Agriculture - 2020 Convention. <a href="https://www.youtube.com/watch?v=5b2xhqlH49I&amp;t=690s">https://www.youtube.com/watch?v=5b2xhqlH49I&amp;t=690s</a>
</div>
<div id="ref-rspatial_hijmans" class="csl-entry" role="listitem">
Hijmans, R. J. (2024a). <em>Spatial data science with <span class="nocase">R and terra</span></em>. <a href="https://rspatial.org/index.html" class="uri">https://rspatial.org/index.html</a>.
</div>
<div id="ref-R-terra" class="csl-entry" role="listitem">
Hijmans, R. J. (2024b). <em>Terra: Spatial data analysis</em>. <a href="https://rspatial.org/">https://rspatial.org/</a>
</div>
<div id="ref-jenny_bryan2025let" class="csl-entry" role="listitem">
Jenny Bryan, J. H., the STAT 545 TAs. (2025). <em>Let’s git started | happy git and GitHub for the useR</em>. <a href="https://happygitwithr.com/" class="uri">https://happygitwithr.com/</a>.
</div>
<div id="ref-R-rgeoda" class="csl-entry" role="listitem">
Li, X., &amp; Anselin, L. (2024). <em>Rgeoda: R library for spatial data analysis</em>. <a href="https://github.com/geodacenter/rgeoda/">https://github.com/geodacenter/rgeoda/</a>
</div>
<div id="ref-Loiseau_2020" class="csl-entry" role="listitem">
Loiseau, N., Mouquet, N., Casajus, N., GreniÃ©, M., GuÃ©guen, M., Maitner, B., Mouillot, D., Ostling, A., Renaud, J., Tucker, C., Velez, L., Thuiller, W., &amp; Violle, C. (2020). Global distribution and conservation status of ecologically rare mammal and bird species. <em>Nature Communications</em>, <em>11</em>(1). <a href="https://doi.org/10.1038/s41467-020-18779-w">https://doi.org/10.1038/s41467-020-18779-w</a>
</div>
<div id="ref-lovelace2019geocomputation" class="csl-entry" role="listitem">
Lovelace, R., Nowosad, J., &amp; Muenchow, J. (2019). <em>Geocomputation with <span>R</span></em>. CRC Press.
</div>
<div id="ref-rsi" class="csl-entry" role="listitem">
Mahoney, M. (n.d.). <em>Rsi: Efficiently retrieve and process satellite imagery</em> (Version 0.2.0.9000). <a href="https://doi.org/10.5281/zenodo.10926857">https://doi.org/10.5281/zenodo.10926857</a>
</div>
<div id="ref-R-rsi" class="csl-entry" role="listitem">
Mahoney, M. (2024). <em>Rsi: Efficiently retrieve and process satellite imagery</em>. <a href="https://github.com/Permian-Global-Research/rsi">https://github.com/Permian-Global-Research/rsi</a>
</div>
<div id="ref-dodgr2019" class="csl-entry" role="listitem">
Mark Padgham. (2019). Dodgr: An r package for network flow aggregation. <em>Transport Findings</em>. <a href="https://doi.org/10.32866/6945">https://doi.org/10.32866/6945</a>
</div>
<div id="ref-R-rnaturalearth" class="csl-entry" role="listitem">
Massicotte, P., &amp; South, A. (2023). <em>Rnaturalearth: World map data from natural earth</em>. <a href="https://docs.ropensci.org/rnaturalearth/">https://docs.ropensci.org/rnaturalearth/</a>
</div>
<div id="ref-meyer2022" class="csl-entry" role="listitem">
Meyer, C. (2022). <em>Understanding the basics of package writing in r</em>. <a href="https://cosimameyer.com/post/understanding-the-basics-of-package-writing-in-r/" class="uri">https://cosimameyer.com/post/understanding-the-basics-of-package-writing-in-r/</a>.
</div>
<div id="ref-R-tibble" class="csl-entry" role="listitem">
Müller, K., &amp; Wickham, H. (2023). <em>Tibble: Simple data frames</em>. <a href="https://tibble.tidyverse.org/">https://tibble.tidyverse.org/</a>
</div>
<div id="ref-R-dodgr" class="csl-entry" role="listitem">
Padgham, M., Petutschnig, A., &amp; Cooley, D. (2024). <em>Dodgr: Distances on directed graphs</em>. <a href="https://github.com/UrbanAnalyst/dodgr">https://github.com/UrbanAnalyst/dodgr</a>
</div>
<div id="ref-R-sfdep" class="csl-entry" role="listitem">
Parry, J., &amp; Locke, D. (2024). <em>Sfdep: Spatial dependence for simple features</em>. <a href="https://sfdep.josiahparry.com">https://sfdep.josiahparry.com</a>
</div>
<div id="ref-R-Rsagacmd" class="csl-entry" role="listitem">
Pawley, S. (2024). <em>Rsagacmd: Linking r with the open-source SAGA-GIS software</em>. <a href="https://stevenpawley.github.io/Rsagacmd/">https://stevenpawley.github.io/Rsagacmd/</a>
</div>
<div id="ref-sf2018" class="csl-entry" role="listitem">
Pebesma, E. (2018). <span class="nocase">Simple Features for R: Standardized Support for Spatial Vector Data</span>. <em><span>The R Journal</span></em>, <em>10</em>(1), 439–446. <a href="https://doi.org/10.32614/RJ-2018-009">https://doi.org/10.32614/RJ-2018-009</a>
</div>
<div id="ref-R-stars" class="csl-entry" role="listitem">
Pebesma, E. (2024). <em>Stars: Spatiotemporal arrays, raster and vector data cubes</em>. <a href="https://r-spatial.github.io/stars/">https://r-spatial.github.io/stars/</a>
</div>
<div id="ref-R-sf" class="csl-entry" role="listitem">
Pebesma, E. (2025). <em>Sf: Simple features for r</em>. <a href="https://r-spatial.github.io/sf/">https://r-spatial.github.io/sf/</a>
</div>
<div id="ref-gstat2004" class="csl-entry" role="listitem">
Pebesma, E. J. (2004). Multivariable geostatistics in <span>S</span>: The gstat package. <em>Computers &amp; Geosciences</em>, <em>30</em>, 683–691.
</div>
<div id="ref-sf2023" class="csl-entry" role="listitem">
Pebesma, E., &amp; Bivand, R. (2023). <em><span class="nocase">Spatial Data Science: With applications in R</span></em>. <span>Chapman and Hall/CRC</span>. <a href="https://doi.org/10.1201/9780429459016">https://doi.org/10.1201/9780429459016</a>
</div>
<div id="ref-R-gstat" class="csl-entry" role="listitem">
Pebesma, E., &amp; Graeler, B. (2024). <em>Gstat: Spatial and spatio-temporal geostatistical modelling, prediction and simulation</em>. <a href="https://github.com/r-spatial/gstat/">https://github.com/r-spatial/gstat/</a>
</div>
<div id="ref-R-tidygraph" class="csl-entry" role="listitem">
Pedersen, T. L. (2024). <em>Tidygraph: A tidy API for graph manipulation</em>. <a href="https://tidygraph.data-imaginist.com">https://tidygraph.data-imaginist.com</a>
</div>
<div id="ref-nlme2000" class="csl-entry" role="listitem">
Pinheiro, J. C., &amp; Bates, D. M. (2000). <em>Mixed-effects models in s and s-PLUS</em>. Springer. <a href="https://doi.org/10.1007/b98882">https://doi.org/10.1007/b98882</a>
</div>
<div id="ref-R-nlme" class="csl-entry" role="listitem">
Pinheiro, J., Bates, D., &amp; R Core Team. (2024). <em>Nlme: Linear and nonlinear mixed effects models</em>. <a href="https://svn.r-project.org/R-packages/trunk/nlme/">https://svn.r-project.org/R-packages/trunk/nlme/</a>
</div>
<div id="ref-R-abind" class="csl-entry" role="listitem">
Plate, T., &amp; Heiberger, R. (2024). <em>Abind: Combine multidimensional arrays</em>.
</div>
<div id="ref-R-base" class="csl-entry" role="listitem">
R Core Team. (2024). <em>R: A language and environment for statistical computing</em>. R Foundation for Statistical Computing. <a href="https://www.R-project.org/">https://www.R-project.org/</a>
</div>
<div id="ref-spdep2022" class="csl-entry" role="listitem">
Roger Bivand. (2022). R packages for analyzing spatial data: A comparative case study with areal data. <em>Geographical Analysis</em>, <em>54</em>(3), 488–518. <a href="https://doi.org/10.1111/gean.12319">https://doi.org/10.1111/gean.12319</a>
</div>
<div id="ref-rydzik2024" class="csl-entry" role="listitem">
Rydzik, M. (2024, January 10). <em>An Overview of the RSI <span>R</span> Package for Retrieving Satellite Imagery and Calculating Spectral Indices</em>. <a href="https://geocompx.org/post/2024/rsi-bp1/">https://geocompx.org/post/2024/rsi-bp1/</a>
</div>
<div id="ref-sits2021" class="csl-entry" role="listitem">
Simoes, R., Camara, G., Queiroz, G., Souza, F., Andrade, P., Santos, L., Carvalho, A., &amp; Ferreira, K. (2021). Satellite image time series analysis for big earth observation data. <em>Remote Sensing</em>, <em>13</em>(13), 2428. <a href="https://doi.org/10.3390/rs13132428">https://doi.org/10.3390/rs13132428</a>
</div>
<div id="ref-R-sits" class="csl-entry" role="listitem">
Simoes, R., Camara, G., Souza, F., &amp; Carlos, F. (2024). <em>Sits: Satellite image time series analysis for earth observation data cubes</em>. <a href="https://github.com/e-sensing/sits/">https://github.com/e-sensing/sits/</a>
</div>
<div id="ref-R-rstac" class="csl-entry" role="listitem">
Simoes, R., Carvalho, F., &amp; Brazil Data Cube Team. (2024). <em>Rstac: Client library for SpatioTemporal asset catalog</em>. <a href="https://brazil-data-cube.github.io/rstac/">https://brazil-data-cube.github.io/rstac/</a>
</div>
<div id="ref-rstac2021" class="csl-entry" role="listitem">
Simoes, R., Souza, F., Zaglia, M., Queiroz, G. R., Santos, R., &amp; Ferreira, K. (2021). Rstac: An r package to access spatiotemporal asset catalog satellite imagery. <em>2021 IEEE International Geoscience and Remote Sensing Symposium IGARSS</em>, 7674–7677. <a href="https://doi.org/10.1109/IGARSS47720.2021.9553518">https://doi.org/10.1109/IGARSS47720.2021.9553518</a>
</div>
<div id="ref-R-lubridate" class="csl-entry" role="listitem">
Spinu, V., Grolemund, G., &amp; Wickham, H. (2023). <em>Lubridate: Make dealing with dates a little easier</em>. <a href="https://lubridate.tidyverse.org">https://lubridate.tidyverse.org</a>
</div>
<div id="ref-R-rpart" class="csl-entry" role="listitem">
Therneau, T., &amp; Atkinson, B. (2023). <em>Rpart: Recursive partitioning and regression trees</em>. <a href="https://github.com/bethatkinson/rpart">https://github.com/bethatkinson/rpart</a>
</div>
<div id="ref-R-sfnetworks" class="csl-entry" role="listitem">
van der Meer, L., Abad, L., Gilardi, A., &amp; Lovelace, R. (2025). <em>Sfnetworks: Tidy geospatial networks</em>. <a href="https://luukvdmeer.github.io/sfnetworks/">https://luukvdmeer.github.io/sfnetworks/</a>
</div>
<div id="ref-vreede2023" class="csl-entry" role="listitem">
Vreede, B. (2023). <em>Why your research deserves to be an r package</em>. <a href="https://blog.esciencecenter.nl/why-your-research-deserves-to-be-an-r-package-3737a73501c" class="uri">https://blog.esciencecenter.nl/why-your-research-deserves-to-be-an-r-package-3737a73501c</a>.
</div>
<div id="ref-Vuorre_2020" class="csl-entry" role="listitem">
Vuorre, M., &amp; Crump, M. J. C. (2020). Sharing and organizing research products as r packages. <em>Behavior Research Methods</em>, <em>53</em>(2), 792â802. <a href="https://doi.org/10.3758/s13428-020-01436-x">https://doi.org/10.3758/s13428-020-01436-x</a>
</div>
<div id="ref-julia-python-r_cheatsheet" class="csl-entry" role="listitem">
Watson, S. S. (n.d.). <em><span class="nocase">A Julia-Python-R reference sheet</span></em>. Retrieved November 21, 2024, from <a href="https://docslib.org/doc/2547802/julia-python-r-cheatsheet">https://docslib.org/doc/2547802/julia-python-r-cheatsheet</a>
</div>
<div id="ref-testthat2011" class="csl-entry" role="listitem">
Wickham, H. (2011). Testthat: Get started with testing. <em>The R Journal</em>, <em>3</em>, 5–10. <a href="https://journal.r-project.org/archive/2011-1/RJournal_2011-1_Wickham.pdf">https://journal.r-project.org/archive/2011-1/RJournal_2011-1_Wickham.pdf</a>
</div>
<div id="ref-Wickham_2014" class="csl-entry" role="listitem">
Wickham, H. (2014). Tidy data. <em>Journal of Statistical Software</em>, <em>59</em>(10). <a href="https://doi.org/10.18637/jss.v059.i10">https://doi.org/10.18637/jss.v059.i10</a>
</div>
<div id="ref-ggplot22016" class="csl-entry" role="listitem">
Wickham, H. (2016). <em>ggplot2: Elegant graphics for data analysis</em>. Springer-Verlag New York. <a href="https://ggplot2.tidyverse.org">https://ggplot2.tidyverse.org</a>
</div>
<div id="ref-Wickham_2019" class="csl-entry" role="listitem">
Wickham, H. (2019). <em>Advanced <span>R</span></em> (p. 588). CRC Press.
</div>
<div id="ref-Wickham2021" class="csl-entry" role="listitem">
Wickham, H. (2021). <em>Mastering shiny</em>. "O’Reilly Media, Inc.".
</div>
<div id="ref-R-forcats" class="csl-entry" role="listitem">
Wickham, H. (2023a). <em>Forcats: Tools for working with categorical variables (factors)</em>. <a href="https://forcats.tidyverse.org/">https://forcats.tidyverse.org/</a>
</div>
<div id="ref-R-stringr" class="csl-entry" role="listitem">
Wickham, H. (2023b). <em>Stringr: Simple, consistent wrappers for common string operations</em>. <a href="https://stringr.tidyverse.org">https://stringr.tidyverse.org</a>
</div>
<div id="ref-R-tidyverse" class="csl-entry" role="listitem">
Wickham, H. (2023c). <em>Tidyverse: Easily install and load the tidyverse</em>. <a href="https://tidyverse.tidyverse.org">https://tidyverse.tidyverse.org</a>
</div>
<div id="ref-R-testthat" class="csl-entry" role="listitem">
Wickham, H. (2024). <em>Testthat: Unit testing for r</em>. <a href="https://testthat.r-lib.org">https://testthat.r-lib.org</a>
</div>
<div id="ref-tidyverse2019" class="csl-entry" role="listitem">
Wickham, H., Averick, M., Bryan, J., Chang, W., McGowan, L. D., François, R., Grolemund, G., Hayes, A., Henry, L., Hester, J., Kuhn, M., Pedersen, T. L., Miller, E., Bache, S. M., Müller, K., Ooms, J., Robinson, D., Seidel, D. P., Spinu, V., … Yutani, H. (2019). Welcome to the <span class="nocase">tidyverse</span>. <em>Journal of Open Source Software</em>, <em>4</em>(43), 1686. <a href="https://doi.org/10.21105/joss.01686">https://doi.org/10.21105/joss.01686</a>
</div>
<div id="ref-R-usethis" class="csl-entry" role="listitem">
Wickham, H., Bryan, J., Barrett, M., &amp; Teucher, A. (2024). <em>Usethis: Automate package and project setup</em>. <a href="https://usethis.r-lib.org">https://usethis.r-lib.org</a>
</div>
<div id="ref-r_data_science" class="csl-entry" role="listitem">
Wickham, H., Çetinkaya-Rundel, M., &amp; Grolemund, G. (2023). <em>R for data science</em> (2nd ed.). O’Reilly Media.
</div>
<div id="ref-R-ggplot2" class="csl-entry" role="listitem">
Wickham, H., Chang, W., Henry, L., Pedersen, T. L., Takahashi, K., Wilke, C., Woo, K., Yutani, H., Dunnington, D., &amp; van den Brand, T. (2024). <em>ggplot2: Create elegant data visualisations using the grammar of graphics</em>. <a href="https://ggplot2.tidyverse.org">https://ggplot2.tidyverse.org</a>
</div>
<div id="ref-R-roxygen2" class="csl-entry" role="listitem">
Wickham, H., Danenberg, P., Csárdi, G., &amp; Eugster, M. (2024). <em>roxygen2: In-line documentation for r</em>. <a href="https://roxygen2.r-lib.org/">https://roxygen2.r-lib.org/</a>
</div>
<div id="ref-R-dplyr" class="csl-entry" role="listitem">
Wickham, H., François, R., Henry, L., Müller, K., &amp; Vaughan, D. (2023). <em>Dplyr: A grammar of data manipulation</em>. <a href="https://dplyr.tidyverse.org">https://dplyr.tidyverse.org</a>
</div>
<div id="ref-R-purrr" class="csl-entry" role="listitem">
Wickham, H., &amp; Henry, L. (2023). <em>Purrr: Functional programming tools</em>. <a href="https://purrr.tidyverse.org/">https://purrr.tidyverse.org/</a>
</div>
<div id="ref-R-pkgdown" class="csl-entry" role="listitem">
Wickham, H., Hesselberth, J., Salmon, M., Roy, O., &amp; Brüggemann, S. (2024). <em>Pkgdown: Make static HTML documentation for a package</em>. <a href="https://pkgdown.r-lib.org/">https://pkgdown.r-lib.org/</a>
</div>
<div id="ref-R-readr" class="csl-entry" role="listitem">
Wickham, H., Hester, J., &amp; Bryan, J. (2024). <em>Readr: Read rectangular text data</em>. <a href="https://readr.tidyverse.org">https://readr.tidyverse.org</a>
</div>
<div id="ref-R-devtools" class="csl-entry" role="listitem">
Wickham, H., Hester, J., Chang, W., &amp; Bryan, J. (2022). <em>Devtools: Tools to make developing r packages easier</em>. <a href="https://devtools.r-lib.org/">https://devtools.r-lib.org/</a>
</div>
<div id="ref-R-tidyr" class="csl-entry" role="listitem">
Wickham, H., Vaughan, D., &amp; Girlich, M. (2024). <em>Tidyr: Tidy messy data</em>. <a href="https://tidyr.tidyverse.org">https://tidyr.tidyverse.org</a>
</div>
<div id="ref-knitr2014" class="csl-entry" role="listitem">
Xie, Y. (2014). Knitr: A comprehensive tool for reproducible research in <span>R</span>. In V. Stodden, F. Leisch, &amp; R. D. Peng (Eds.), <em>Implementing reproducible computational research</em>. Chapman; Hall/CRC.
</div>
<div id="ref-knitr2015" class="csl-entry" role="listitem">
Xie, Y. (2015). <em>Dynamic documents with <span>R</span> and knitr</em> (2nd ed.). Chapman; Hall/CRC. <a href="https://yihui.org/knitr/">https://yihui.org/knitr/</a>
</div>
<div id="ref-R-knitr" class="csl-entry" role="listitem">
Xie, Y. (2024). <em>Knitr: A general-purpose package for dynamic report generation in r</em>. <a href="https://yihui.org/knitr/">https://yihui.org/knitr/</a>
</div>
</div>
</section>
<section id="footnotes" class="footnotes footnotes-end-of-document" role="doc-endnotes">
<hr>
<ol>
<li id="fn1"><p>Hadley Wickham, R packages (2nd. edition)<a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleGiscusIfUsed = (isAlternate, darkModeDefault) => {
    const baseTheme = document.querySelector('#giscus-base-theme')?.value ?? 'light';
    const alternateTheme = document.querySelector('#giscus-alt-theme')?.value ?? 'dark';
    let newTheme = '';
    if(darkModeDefault) {
      newTheme = isAlternate ? baseTheme : alternateTheme;
    } else {
      newTheme = isAlternate ? alternateTheme : baseTheme;
    }
    const changeGiscusTheme = () => {
      // From: https://github.com/giscus/giscus/issues/336
      const sendMessage = (message) => {
        const iframe = document.querySelector('iframe.giscus-frame');
        if (!iframe) return;
        iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
      }
      sendMessage({
        setConfig: {
          theme: newTheme
        }
      });
    }
    const isGiscussLoaded = window.document.querySelector('iframe.giscus-frame') !== null;
    if (isGiscussLoaded) {
      changeGiscusTheme();
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  const darkModeDefault = false;
  let localAlternateSentinel = darkModeDefault ? 'alternate' : 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
    toggleGiscusIfUsed(toAlternate, darkModeDefault);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="../lessons/session_4.html" class="pagination-link" aria-label="GIS: in-house and bridges">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">GIS: in-house and bridges</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="../lessons/session_6.html" class="pagination-link" aria-label="Quarto dashboards">
        <span class="nav-page-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Quarto dashboards</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
<p>Winter Semester 2024/2025</p>
</div>   
    <div class="nav-footer-center">
<p>Department of Geoinformatics — Z_GIS, University of Salzburg</p>
</div>
    <div class="nav-footer-right">
      <ul class="footer-items list-unstyled">
    <li class="nav-item">
    <a class="nav-link" href="../License.html">
<p>CC-BY-4.0</p>
</a>
  </li>  
</ul>
    </div>
  </div>
</footer>
<script>var lightboxQuarto = GLightbox({"loop":false,"descPosition":"bottom","closeEffect":"zoom","openEffect":"zoom","selector":".lightbox"});
(function() {
  let previousOnload = window.onload;
  window.onload = () => {
    if (previousOnload) {
      previousOnload();
    }
    lightboxQuarto.on('slide_before_load', (data) => {
      const { slideIndex, slideNode, slideConfig, player, trigger } = data;
      const href = trigger.getAttribute('href');
      if (href !== null) {
        const imgEl = window.document.querySelector(`a[href="${href}"] img`);
        if (imgEl !== null) {
          const srcAttr = imgEl.getAttribute("src");
          if (srcAttr && srcAttr.startsWith("data:")) {
            slideConfig.href = srcAttr;
          }
        }
      } 
    });
  
    lightboxQuarto.on('slide_after_load', (data) => {
      const { slideIndex, slideNode, slideConfig, player, trigger } = data;
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(slideNode);
      }
    });
  
  };
  
})();
          </script>




</body></html>