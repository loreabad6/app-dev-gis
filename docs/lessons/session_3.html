<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.57">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>3&nbsp; Tidy (spatial) data ‚Äì R for reproducible spatial analysis</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 0em;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<link href="../practicals/Practical1/preparation/Practical1-Base-R-Functions.html" rel="next">
<link href="../lessons/session_2.html" rel="prev">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="../site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script src="../site_libs/quarto-contrib/glightbox/glightbox.min.js"></script>
<link href="../site_libs/quarto-contrib/glightbox/glightbox.min.css" rel="stylesheet">
<link href="../site_libs/quarto-contrib/glightbox/lightbox.css" rel="stylesheet">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="../html-styling/style.css">
</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../lessons/session_1.html">Lessons</a></li><li class="breadcrumb-item"><a href="../lessons/session_3.html"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Tidy (spatial) data</span></a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="../">R for reproducible spatial analysis</a> 
        <div class="sidebar-tools-main">
    <a href="https://github.com/loreabad6/app-dev-gis" title="Source Code" class="quarto-navigation-tool px-1" aria-label="Source Code"><i class="bi bi-github"></i></a>
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Syllabus</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true">
 <span class="menu-text">Lessons</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../lessons/session_1.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Intro to R and Co.</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../lessons/session_2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">R basics &amp; functions</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../lessons/session_3.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Tidy (spatial) data</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true">
 <span class="menu-text">Practicals</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../practicals/Practical1/preparation/Practical1-Base-R-Functions.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Practical 1</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../practicals/Practical2/Practical2-DataViz.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Practical 2</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true">
 <span class="menu-text">Annex</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../misc/x_error-handling.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Dealing with errors</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../misc/x_ask_help.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Asking for help</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../refs/references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">References</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#installing-packages" id="toc-installing-packages" class="nav-link active" data-scroll-target="#installing-packages"><span class="header-section-number">3.1</span> Installing packages</a></li>
  <li><a href="#tidy-data" id="toc-tidy-data" class="nav-link" data-scroll-target="#tidy-data"><span class="header-section-number">3.2</span> Tidy data</a>
  <ul class="collapse">
  <li><a href="#tidyverse-packages" id="toc-tidyverse-packages" class="nav-link" data-scroll-target="#tidyverse-packages"><span class="header-section-number">3.2.1</span> Tidyverse packages</a></li>
  <li><a href="#a-typical-data-analysis-workflow" id="toc-a-typical-data-analysis-workflow" class="nav-link" data-scroll-target="#a-typical-data-analysis-workflow"><span class="header-section-number">3.2.2</span> A typical data analysis workflow</a></li>
  </ul></li>
  <li><a href="#spatial-data" id="toc-spatial-data" class="nav-link" data-scroll-target="#spatial-data"><span class="header-section-number">3.3</span> Spatial data</a>
  <ul class="collapse">
  <li><a href="#the-sf-package" id="toc-the-sf-package" class="nav-link" data-scroll-target="#the-sf-package"><span class="header-section-number">3.3.1</span> The <code>{sf}</code> package</a></li>
  <li><a href="#turning-xy-data-into-a-sf" id="toc-turning-xy-data-into-a-sf" class="nav-link" data-scroll-target="#turning-xy-data-into-a-sf"><span class="header-section-number">3.3.2</span> Turning X/Y data into a <code>sf</code></a></li>
  <li><a href="#a-customised-map" id="toc-a-customised-map" class="nav-link" data-scroll-target="#a-customised-map"><span class="header-section-number">3.3.3</span> A customised map</a></li>
  </ul></li>
  <li><a href="#further-reading" id="toc-further-reading" class="nav-link" data-scroll-target="#further-reading"><span class="header-section-number">3.4</span> Further reading:</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content page-columns page-full" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../lessons/session_1.html">Lessons</a></li><li class="breadcrumb-item"><a href="../lessons/session_3.html"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Tidy (spatial) data</span></a></li></ol></nav>
<div class="quarto-title">
<h1 class="title"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Tidy (spatial) data</span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<p>In this session you should learn:</p>
<ul class="task-list">
<li><label><input type="checkbox">how to install packages in R</label></li>
<li><label><input type="checkbox">what tidy data is, the basic packages and functions</label></li>
<li><label><input type="checkbox">how to manipulate a data frame in R</label></li>
<li><label><input type="checkbox">the basics of data visualisation in R</label></li>
<li><label><input type="checkbox">how to create and manipulate a spatial data frame in R</label></li>
<li><label><input type="checkbox">how to create your first map in R</label></li>
</ul>
<section id="installing-packages" class="level2 page-columns page-full" data-number="3.1">
<h2 data-number="3.1" class="anchored" data-anchor-id="installing-packages"><span class="header-section-number">3.1</span> Installing packages</h2>
<p>Last session, we mostly worked with base R. In this session we will be using dedicated packages that are particularly helpful for data science and spatial analysis.</p>
<p>Stable packages are usually installed from <a href="https://cran.r-project.org/web/packages/">CRAN</a>. The function <code>install.packages()</code> takes a vector of names and a destination library, downloads the packages from the repositories and installs them.</p>
<p>You can also install packages not on CRAN or ‚Äúdevelopment‚Äù versions of packages using the <a href="https://remotes.r-lib.org/"><code>{remotes}</code></a> R package. Packages from GitHub, GitLab, Bitbucket as well as local packages are supported.</p>
<div class="column-page callout callout-style-default callout-warning no-icon callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
üíª Code at Work: Your Turn to Execute
</div>
</div>
<div class="callout-body-container callout-body">
<ol type="1">
<li>Open RStudio</li>
<li>Go to the console</li>
<li>Copy paste the following code (you can do line by line or just everything at once and R will run it line by line)</li>
</ol>
<div class="cell styled-output">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">"tidyverse"</span>) <span class="co"># data science package bundle</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">"sf"</span>) <span class="co"># simple features in R</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">"stars"</span>) <span class="co"># spatio-temporal arrays</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">"mapview"</span>) <span class="co"># fast interactive maps</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">"rnaturalearth"</span>) <span class="co"># access to base layers</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">"rnaturalearthdata"</span>) <span class="co"># access to base layers</span></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">"remotes"</span>) <span class="co"># install packages in remote repositories</span></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>remotes<span class="sc">::</span><span class="fu">install_github</span>(<span class="st">"r-tmap/tmap"</span>) <span class="co"># data visualisation, static and interactive</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ol start="4" type="1">
<li>Wait ‚òï</li>
<li>Got stuck? Ask for help ‚úã</li>
</ol>
</div>
</div>
</section>
<section id="tidy-data" class="level2 page-columns page-full" data-number="3.2">
<h2 data-number="3.2" class="anchored" data-anchor-id="tidy-data"><span class="header-section-number">3.2</span> Tidy data</h2>
<div class="callout callout-style-simple callout-note no-icon callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
üíê Acknowledgements
</div>
</div>
<div class="callout-body-container callout-body">
<p>Illustrations from the <a href="https://www.openscapes.org/">Openscapes</a> blog <a href="https://www.openscapes.org/blog/2020/10/12/tidy-data/">Tidy Data for reproducibility, efficiency, and collaboration</a> by Julia Lowndes and Allison Horst.</p>
</div>
</div>
<p>TIdy data is data organised in a particular, rectangular structure with one observation per row and one variable per column <span class="citation" data-cites="Wickham_2014">(<a href="../refs/references.html#ref-Wickham_2014" role="doc-biblioref">Wickham, 2014</a>)</span>.</p>
<p><img src="https://cdn.myportfolio.com/45214904-6a61-4e23-98d6-b140f8654a40/85520b8f-4629-4763-8a2a-9ceff27458bf.jpg?h=27c3e74642d8602799d180ff30995d2a" class="img-fluid"></p>
<p><em><strong>Does this look familiar? Think about your standard GIS GUI.</strong></em></p>
<p>But the data you find in the wild is not always tidy.</p>
<p><img src="https://cdn.myportfolio.com/45214904-6a61-4e23-98d6-b140f8654a40/6e297111-efb7-4555-93d2-085071d1853c.jpg?h=6495be6d4c37f1148bd0148bc7458a13" class="img-fluid"></p>
<p>The <a href="https://www.tidyverse.org/">tidyverse</a> group of packages collects the main workbench of functions you can use to clean, wrangle and manipulate your data.</p>
<p>The ultimate goal of tidy workflows is that you can turn any untidy dataset into a tidy one and then be able to apply reproducible workflows.</p>
<p><a href="https://openscapes.org/img/blog/tidydata/tidydata_5.jpg" class="lightbox" data-gallery="quarto-lightbox-gallery-1"><img src="https://openscapes.org/img/blog/tidydata/tidydata_5.jpg" class="img-fluid"></a></p>
<section id="tidyverse-packages" class="level3" data-number="3.2.1">
<h3 data-number="3.2.1" class="anchored" data-anchor-id="tidyverse-packages"><span class="header-section-number">3.2.1</span> Tidyverse packages</h3>
<div id="fig-tidyverse" class="quarto-layout-panel">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-tidyverse-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="quarto-layout-row">
<div class="quarto-layout-cell" style="flex-basis: 25.0%;justify-content: flex-start;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="https://readr.tidyverse.org/"><img src="https://readr.tidyverse.org/logo.png" class="img-fluid figure-img" style="width:100.0%"></a></p>
<figcaption>{readr} reads rectangular data from delimited files</figcaption>
</figure>
</div>
</div>
<div class="quarto-layout-cell" style="flex-basis: 25.0%;justify-content: flex-start;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="https://tibble.tidyverse.org/"><img src="https://tibble.tidyverse.org/logo.svg" class="img-fluid figure-img" style="width:100.0%"></a></p>
<figcaption>{tibble} is a modern reimagining of the data.frame</figcaption>
</figure>
</div>
</div>
<div class="quarto-layout-cell" style="flex-basis: 25.0%;justify-content: flex-start;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="https://tidyr.tidyverse.org/"><img src="https://tidyr.tidyverse.org/logo.png" class="img-fluid figure-img" style="width:100.0%"></a></p>
<figcaption>{tidyr} helps you create tidy data</figcaption>
</figure>
</div>
</div>
<div class="quarto-layout-cell" style="flex-basis: 25.0%;justify-content: flex-start;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="https://dplyr.tidyverse.org/"><img src="https://dplyr.tidyverse.org/logo.png" class="img-fluid figure-img" style="width:100.0%"></a></p>
<figcaption>{dplyr} is a grammar of data manipulation</figcaption>
</figure>
</div>
</div>
</div>
<div class="quarto-layout-row">
<div class="quarto-layout-cell" style="flex-basis: 25.0%;justify-content: flex-start;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="https://stringr.tidyverse.org/"><img src="https://stringr.tidyverse.org/logo.png" class="img-fluid figure-img" style="width:100.0%"></a></p>
<figcaption>{stringr} makes working with strings as easy as possible</figcaption>
</figure>
</div>
</div>
<div class="quarto-layout-cell" style="flex-basis: 25.0%;justify-content: flex-start;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="https://forcats.tidyverse.org/"><img src="https://forcats.tidyverse.org/logo.png" class="img-fluid figure-img" style="width:100.0%"></a></p>
<figcaption>{forcats} has tools that solve common problems with factors</figcaption>
</figure>
</div>
</div>
<div class="quarto-layout-cell" style="flex-basis: 25.0%;justify-content: flex-start;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="https://purrr.tidyverse.org/"><img src="https://purrr.tidyverse.org/logo.png" class="img-fluid figure-img" style="width:100.0%"></a></p>
<figcaption>{purrr} enhances R‚Äôs functional programming with tools for working with functions and vectors</figcaption>
</figure>
</div>
</div>
<div class="quarto-layout-cell" style="flex-basis: 25.0%;justify-content: flex-start;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="https://ggplot2.tidyverse.org/"><img src="https://ggplot2.tidyverse.org/logo.png" class="img-fluid figure-img" style="width:100.0%"></a></p>
<figcaption>{ggplot2} creates plots based on the grammar of graphics</figcaption>
</figure>
</div>
</div>
</div>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-tidyverse-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;3.1: Tidyverse packages
</figcaption>
</figure>
</div>
</section>
<section id="a-typical-data-analysis-workflow" class="level3 page-columns page-full" data-number="3.2.2">
<h3 data-number="3.2.2" class="anchored" data-anchor-id="a-typical-data-analysis-workflow"><span class="header-section-number">3.2.2</span> A typical data analysis workflow</h3>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="https://r4ds.hadley.nz/diagrams/data-science/whole-game.png" class="lightbox" data-gallery="quarto-lightbox-gallery-2" title="Image from @r_data_science"><img src="https://r4ds.hadley.nz/diagrams/data-science/whole-game.png" class="img-fluid figure-img" alt="Image from Wickham, √áetinkaya-Rundel, et al. (2023)"></a></p>
<figcaption>Image from <span class="citation" data-cites="r_data_science">Wickham, √áetinkaya-Rundel, et al. (<a href="../refs/references.html#ref-r_data_science" role="doc-biblioref">2023</a>)</span></figcaption>
</figure>
</div>
<div class="column-page callout callout-style-default callout-warning no-icon callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
üíª Code at Work: Your Turn to Execute
</div>
</div>
<div class="callout-body-container callout-body">
<ol type="1">
<li>Open a new QMD file in your course RStudio project</li>
<li>Create a new code chunk</li>
</ol>
<div class="cell styled-output">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="in"># you will be writing your code in this space</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ol start="3" type="1">
<li>Type the code below, you can use the keyboard shortcut <code>CTRL+ALT+I</code></li>
</ol>
<div class="cell styled-output">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Call the tidyverse packages</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Read data with {readr} (already loaded with the code above)</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>data <span class="ot">=</span> <span class="fu">read_csv</span>(<span class="st">"https://raw.githubusercontent.com/loreabad6/app-dev-gis/main/data/data_session3.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ol start="4" type="1">
<li>Explore your data with the function <code>glimpse()</code>, what do you have? What is this data about? How many observations do you have? How many columns?</li>
</ol>
<div class="cell styled-output">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="do">## ...</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ol start="5" type="1">
<li>Some columns are not really so interesting, let‚Äôs get rid of them. Use the <code>select()</code> function from the <code>{dplyr}</code> package to do so.</li>
</ol>
<div class="cell styled-output">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co"># To select a set of columns you can use the `c()` function</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="co"># To keep all the columns except a set you can use a `-` sign in front</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Remove the columns: wikipedia_link, keywords, continent, home_link</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a><span class="co"># by replacing the `...` below</span></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Remember to save your data, either overwriting it or creating a new object</span></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>data <span class="ot">=</span> <span class="fu">select</span>(data, <span class="sc">-</span><span class="fu">c</span>(...))</span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a><span class="co"># You can also use a pipe syntax `|&gt;` to concatenate your functions</span></span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a>data <span class="ot">=</span> data <span class="sc">|&gt;</span> </span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span><span class="fu">c</span>(...))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ol start="6" type="1">
<li>Focus on a particular subset of your data. Can you filter the dataset (<code>filter()</code>) to only show those in your home country? You will find the column <code>iso_country</code> with a <a href="https://en.wikipedia.org/wiki/List_of_ISO_3166_country_codes">ISO 3166 alpha-2 coding</a>. If you don‚Äôt know the corresponding code, take a look at the Wikipedia link.</li>
</ol>
<div class="cell styled-output">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co"># In the `...` below you can add boolean comparisons per column, </span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="co"># the function will check for each row if the comparison is </span></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a><span class="co"># true or false and will only keep the trues</span></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>data_ <span class="ot">=</span> data <span class="sc">|&gt;</span> <span class="fu">filter</span>(...)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ol start="7" type="1">
<li>Now let‚Äôs take a look at the variable <code>type</code>. It seems to have categorical information. We can do a check of its categories by calling the <code>unique()</code> function.</li>
</ol>
<div class="cell styled-output">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co"># The unique() function is from base R.</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="co"># You can use retrieval operators from base R to select the column you want to check</span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a><span class="co"># You can also use functions from dplyr such as select() to select a column but keep the tibble structure and pull() to extract the column as a vector</span></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a><span class="fu">unique</span>(...)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ol start="8" type="1">
<li>Can you find how many of these types are present in your country? You can use the function <code>count()</code>.</li>
</ol>
<div class="cell styled-output">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="co"># In the count() function you can pass your column of interest</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="co"># and get a frequency table</span></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a><span class="co"># This is a convenience function to performing </span></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a><span class="co"># data |&gt; group_by(type) |&gt; summarise(n = n())</span></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>data_ <span class="sc">|&gt;</span> <span class="fu">count</span>(...)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ol start="9" type="1">
<li>Shall we make a plot of that info? Let‚Äôs use <code>ggplot()</code> functions to do that, in this case a bar plot would be a good fit.</li>
</ol>
<div class="cell styled-output" data-layout-align="center">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="co"># ggplot functions concatenate layers by using the `+` operator</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="co"># usually the data you want to plot is stated in the first line </span></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a><span class="co"># as the argument for ggplot()</span></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(...) <span class="sc">+</span></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a><span class="co"># the next layer will be in this case the bar plot</span></span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a><span class="co"># the aesthetics (aes()) are the ones that map information of the data</span></span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a><span class="co"># source to the plot. Here you can pass the arguments a plot needs.</span></span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a><span class="co"># whatever is not mapped to the dataset is passed outside of aes()</span></span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a><span class="co"># you can see R color guides here: http://www.stat.columbia.edu/~tzheng/files/Rcolor.pdf</span></span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="fu">aes</span>(...), ...) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ol start="10" type="1">
<li>You can go a step further and create subplots based on a variable of interest.</li>
</ol>
<div class="cell styled-output" data-layout-align="center">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(data_) <span class="sc">+</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="fu">aes</span>(...), ...) <span class="sc">+</span></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(...)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><a href="https://ourairports.com/data/">Data source</a>.</p>
</div>
</div>
</section>
</section>
<section id="spatial-data" class="level2 page-columns page-full" data-number="3.3">
<h2 data-number="3.3" class="anchored" data-anchor-id="spatial-data"><span class="header-section-number">3.3</span> Spatial data</h2>
<p><strong>Spatial data is special</strong>, you already know this. <em>Coordinates, projections and transformations, geometries, vector data types, raster and gridded data</em>: these are a sample of the characteristics spatial software has to take into account.</p>
<p>Spatial data in R has had a long history and evolution. Spatial packages were developed already from the time R‚Äôs predecessor, the S language, was around in the 1990s. Many package developments have taken place until getting to the current state of R-Spatial packages. We will take a look at the current package ecosystem next session.</p>
<section id="the-sf-package" class="level3" data-number="3.3.1">
<h3 data-number="3.3.1" class="anchored" data-anchor-id="the-sf-package"><span class="header-section-number">3.3.1</span> The <code>{sf}</code> package</h3>
<p>Simple Features for R <code>{sf}</code> <span class="citation" data-cites="sf2018">(<a href="../refs/references.html#ref-sf2018" role="doc-biblioref">E. Pebesma, 2018</a>)</span> is currently the main R package to handle spatial data. <a href="https://en.wikipedia.org/wiki/Simple_Features">Simple features</a> are a formal <a href="https://www.ogc.org/publications/standard/sfa/">OGC standard (ISO 19125-1:2004)</a> that describes how objects in the real world can be represented in computers.</p>
<p>Geometry types: points, lines, polygons, or their derivatives are represented by this OGC hierarchical data model. <code>{sf}</code> supports the following geometry types:</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="https://r.geocompx.org/images/sf-classes.png" class="lightbox" data-gallery="quarto-lightbox-gallery-3" title="Simple features supported by {sf} from @lovelace2019geocomputation"><img src="https://r.geocompx.org/images/sf-classes.png" class="img-fluid figure-img" alt="Simple features supported by {sf} from Lovelace et al. (2019)"></a></p>
<figcaption>Simple features supported by <code>{sf}</code> from <span class="citation" data-cites="lovelace2019geocomputation">Lovelace et al. (<a href="../refs/references.html#ref-lovelace2019geocomputation" role="doc-biblioref">2019</a>)</span></figcaption>
</figure>
</div>
<p>The <code>{sf}</code> package was designed to fit tidy data workflows. To do so, it keeps the philosophy of one row per observation, one column per variable. As such, the geometry of each observation is treated as a variable and is place in a geometry column.</p>
<p>But the geometry column in a <code>sf</code> object is special in different ways:</p>
<ul>
<li>it is a ‚Äústicky‚Äù column, which means it is not easily dropped by any data operations you perform, e.g.&nbsp;when you select a column in a <code>sf</code> object, the geometry column will stay there.</li>
<li>it is a ‚Äúlist-column‚Äù, which means it is a nested column.</li>
<li>it has its own class: <code>sfc</code>, which is a standalone class where methods for <code>sfc</code> objects can be applied.</li>
</ul>
<div class="cell styled-output">
<details class="code-fold">
<summary><code>sfc</code> methods</summary>
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(sf)</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a><span class="fu">methods</span>(<span class="at">class =</span> <span class="st">"sfc"</span>)</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a><span class="do">##  [1] [                            [&lt;-                         </span></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a><span class="do">##  [3] as.data.frame                c                           </span></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a><span class="do">##  [5] coerce                       format                      </span></span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a><span class="do">##  [7] identify                     initialize                  </span></span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a><span class="do">##  [9] Ops                          points                      </span></span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a><span class="do">## [11] print                        rep                         </span></span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a><span class="do">## [13] show                         slotsFromS3                 </span></span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a><span class="do">## [15] st_area                      st_as_binary                </span></span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a><span class="do">## [17] st_as_grob                   st_as_s2                    </span></span>
<span id="cb11-12"><a href="#cb11-12" aria-hidden="true" tabindex="-1"></a><span class="do">## [19] st_as_sf                     st_as_text                  </span></span>
<span id="cb11-13"><a href="#cb11-13" aria-hidden="true" tabindex="-1"></a><span class="do">## [21] st_bbox                      st_boundary                 </span></span>
<span id="cb11-14"><a href="#cb11-14" aria-hidden="true" tabindex="-1"></a><span class="do">## [23] st_break_antimeridian        st_buffer                   </span></span>
<span id="cb11-15"><a href="#cb11-15" aria-hidden="true" tabindex="-1"></a><span class="do">## [25] st_cast                      st_centroid                 </span></span>
<span id="cb11-16"><a href="#cb11-16" aria-hidden="true" tabindex="-1"></a><span class="do">## [27] st_collection_extract        st_concave_hull             </span></span>
<span id="cb11-17"><a href="#cb11-17" aria-hidden="true" tabindex="-1"></a><span class="do">## [29] st_convex_hull               st_coordinates              </span></span>
<span id="cb11-18"><a href="#cb11-18" aria-hidden="true" tabindex="-1"></a><span class="do">## [31] st_crop                      st_crs                      </span></span>
<span id="cb11-19"><a href="#cb11-19" aria-hidden="true" tabindex="-1"></a><span class="do">## [33] st_crs&lt;-                     st_difference               </span></span>
<span id="cb11-20"><a href="#cb11-20" aria-hidden="true" tabindex="-1"></a><span class="do">## [35] st_exterior_ring             st_geometry                 </span></span>
<span id="cb11-21"><a href="#cb11-21" aria-hidden="true" tabindex="-1"></a><span class="do">## [37] st_inscribed_circle          st_intersection             </span></span>
<span id="cb11-22"><a href="#cb11-22" aria-hidden="true" tabindex="-1"></a><span class="do">## [39] st_intersects                st_is_full                  </span></span>
<span id="cb11-23"><a href="#cb11-23" aria-hidden="true" tabindex="-1"></a><span class="do">## [41] st_is_valid                  st_is                       </span></span>
<span id="cb11-24"><a href="#cb11-24" aria-hidden="true" tabindex="-1"></a><span class="do">## [43] st_line_merge                st_m_range                  </span></span>
<span id="cb11-25"><a href="#cb11-25" aria-hidden="true" tabindex="-1"></a><span class="do">## [45] st_make_valid                st_minimum_bounding_circle  </span></span>
<span id="cb11-26"><a href="#cb11-26" aria-hidden="true" tabindex="-1"></a><span class="do">## [47] st_minimum_rotated_rectangle st_nearest_points           </span></span>
<span id="cb11-27"><a href="#cb11-27" aria-hidden="true" tabindex="-1"></a><span class="do">## [49] st_node                      st_normalize                </span></span>
<span id="cb11-28"><a href="#cb11-28" aria-hidden="true" tabindex="-1"></a><span class="do">## [51] st_point_on_surface          st_polygonize               </span></span>
<span id="cb11-29"><a href="#cb11-29" aria-hidden="true" tabindex="-1"></a><span class="do">## [53] st_precision                 st_reverse                  </span></span>
<span id="cb11-30"><a href="#cb11-30" aria-hidden="true" tabindex="-1"></a><span class="do">## [55] st_sample                    st_segmentize               </span></span>
<span id="cb11-31"><a href="#cb11-31" aria-hidden="true" tabindex="-1"></a><span class="do">## [57] st_set_precision             st_shift_longitude          </span></span>
<span id="cb11-32"><a href="#cb11-32" aria-hidden="true" tabindex="-1"></a><span class="do">## [59] st_simplify                  st_snap                     </span></span>
<span id="cb11-33"><a href="#cb11-33" aria-hidden="true" tabindex="-1"></a><span class="do">## [61] st_sym_difference            st_transform                </span></span>
<span id="cb11-34"><a href="#cb11-34" aria-hidden="true" tabindex="-1"></a><span class="do">## [63] st_triangulate_constrained   st_triangulate              </span></span>
<span id="cb11-35"><a href="#cb11-35" aria-hidden="true" tabindex="-1"></a><span class="do">## [65] st_union                     st_voronoi                  </span></span>
<span id="cb11-36"><a href="#cb11-36" aria-hidden="true" tabindex="-1"></a><span class="do">## [67] st_wrap_dateline             st_write                    </span></span>
<span id="cb11-37"><a href="#cb11-37" aria-hidden="true" tabindex="-1"></a><span class="do">## [69] st_z_range                   st_zm                       </span></span>
<span id="cb11-38"><a href="#cb11-38" aria-hidden="true" tabindex="-1"></a><span class="do">## [71] str                          summary                     </span></span>
<span id="cb11-39"><a href="#cb11-39" aria-hidden="true" tabindex="-1"></a><span class="do">## [73] text                         vec_cast.sfc                </span></span>
<span id="cb11-40"><a href="#cb11-40" aria-hidden="true" tabindex="-1"></a><span class="do">## [75] vec_ptype2.sfc              </span></span>
<span id="cb11-41"><a href="#cb11-41" aria-hidden="true" tabindex="-1"></a><span class="do">## see '?methods' for accessing help and source code</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="https://cdn.myportfolio.com/45214904-6a61-4e23-98d6-b140f8654a40/6025ee5a-bf25-4275-a211-16f4425089d2_rw_1920.png?h=8df287c0e9803a81d2406fdd7ff938da" class="lightbox" data-gallery="quarto-lightbox-gallery-4" title="Artwork from Allison Horst"><img src="https://cdn.myportfolio.com/45214904-6a61-4e23-98d6-b140f8654a40/6025ee5a-bf25-4275-a211-16f4425089d2_rw_1920.png?h=8df287c0e9803a81d2406fdd7ff938da" class="img-fluid figure-img" alt="Artwork from Allison Horst"></a></p>
<figcaption>Artwork from <a href="https://allisonhorst.com/">Allison Horst</a></figcaption>
</figure>
</div>
</section>
<section id="turning-xy-data-into-a-sf" class="level3 page-columns page-full" data-number="3.3.2">
<h3 data-number="3.3.2" class="anchored" data-anchor-id="turning-xy-data-into-a-sf"><span class="header-section-number">3.3.2</span> Turning X/Y data into a <code>sf</code></h3>
<div class="column-page callout callout-style-default callout-warning no-icon callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
üíª Code at Work: Your Turn to Execute
</div>
</div>
<div class="callout-body-container callout-body">
<ol type="1">
<li>Convert your <code>data</code> object to a spatial object. For this we will use the <code>sf</code> package.</li>
</ol>
<div class="cell styled-output">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="co"># The `st_as_sf()` function is used to convert a foreign object into a sf object</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a><span class="co"># If you have a tabular dataset with X/Y or lat/long columns, this can be </span></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a><span class="co"># turned into a sf by passing it as a vector to the `coords` parameter</span></span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Don't forget to also assign the correct `crs` to your object</span></span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>data_sf <span class="ot">=</span> <span class="fu">st_as_sf</span>(</span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a>  data_,</span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">coords =</span> ...,</span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">crs =</span> ... <span class="co"># this is the projection the data is in</span></span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ol start="2" type="1">
<li>Take a look at the new spatial object you created, how is it different from the tabular format we had before?</li>
</ol>
<div class="cell styled-output">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>data_sf</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ol start="3" type="1">
<li>We can have a quick visual of the dataset now that we have given it coordinates. You can use the base R function <code>plot()</code> for this.</li>
</ol>
<div class="cell styled-output">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="co"># This function will plot the first 9 parameters of the sf object, </span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a><span class="co"># unless specified otherwise</span></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a><span class="co"># This might take a bit depending on how good your computer is, </span></span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a><span class="co"># as we are plotting 80 thousand points ;)</span></span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(data_sf)</span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a><span class="co"># You can also create a quick interactive map</span></span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(mapview)</span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a><span class="fu">mapview</span>(data_sf)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ol start="4" type="1">
<li>But this basic plot is not really a map just yet. Let‚Äôs make a map again for the airports in your home country. You will need to filter the data again, which is something you can do also in <code>sf</code> objects.</li>
</ol>
<div class="cell styled-output">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="co"># We can use ggplot again to create a map! Here the `geom_sf()` function will be of use</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(data_sf) <span class="sc">+</span></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_sf</span>(<span class="fu">aes</span>(...)) <span class="sc">+</span></span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>  <span class="co"># to do projections on the fly</span></span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_sf</span>(<span class="at">crs =</span> ...)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ol start="5" type="1">
<li>One extra feature we can add is a country base layer to help locate the information. For this we can use the <code>rnaturalearth</code> package.</li>
</ol>
<div class="cell styled-output">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(rnaturalearth)</span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a><span class="co"># You can add the name of your country </span></span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>country <span class="ot">=</span> <span class="fu">ne_countries</span>(...)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ol start="6" type="1">
<li>Here we plot both layers in one map</li>
</ol>
<div class="cell styled-output">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Here we will call the ggplot function again but with different spatial layers</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Since we want to have the country boundary in the background</span></span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a><span class="co"># we will call that function first and then the data object we filtered above</span></span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_sf</span>(<span class="at">data =</span> country) <span class="sc">+</span></span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_sf</span>(<span class="at">data =</span> data_sf, <span class="fu">aes</span>(<span class="at">color =</span> ...)) <span class="sc">+</span></span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_sf</span>(<span class="at">crs =</span> ...)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ol start="7" type="1">
<li>Customise your map, play a bit with the options you have. It makes sense you are not familiar with everything but you can start exploring. I customised my map you can see the full code to create it in the next section.</li>
</ol>
</div>
</div>
</section>
<section id="a-customised-map" class="level3 page-columns page-full" data-number="3.3.3">
<h3 data-number="3.3.3" class="anchored" data-anchor-id="a-customised-map"><span class="header-section-number">3.3.3</span> A customised map</h3>
<div class="cell styled-output page-columns page-full">
<details class="code-fold">
<summary>Full code for a more customised map</summary>
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(sf)</span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(rnaturalearth)</span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Read in the data</span></span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a>data <span class="ot">=</span> <span class="fu">read_csv</span>(<span class="st">"https://raw.githubusercontent.com/loreabad6/app-dev-gis/main/data/data_session3.csv"</span>)</span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a>data_sf_ec <span class="ot">=</span> data <span class="sc">|&gt;</span> </span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Directly transform to sf</span></span>
<span id="cb18-8"><a href="#cb18-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">st_as_sf</span>(<span class="at">coords =</span> <span class="fu">c</span>(<span class="st">"longitude_deg"</span>, <span class="st">"latitude_deg"</span>), <span class="at">crs =</span> <span class="dv">4326</span>) <span class="sc">|&gt;</span> </span>
<span id="cb18-9"><a href="#cb18-9" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Filter for my home country</span></span>
<span id="cb18-10"><a href="#cb18-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(iso_country <span class="sc">==</span> <span class="st">"EC"</span>) <span class="sc">|&gt;</span></span>
<span id="cb18-11"><a href="#cb18-11" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Transform airport type to nice labels by capitalising the first letter and removing the snakecase</span></span>
<span id="cb18-12"><a href="#cb18-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">type =</span> <span class="fu">str_to_sentence</span>(<span class="fu">str_replace_all</span>(type, <span class="st">"_"</span>, <span class="st">" "</span>))) <span class="sc">|&gt;</span> </span>
<span id="cb18-13"><a href="#cb18-13" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Relevel or reorder the types to have them in a more logical order</span></span>
<span id="cb18-14"><a href="#cb18-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">type =</span> <span class="fu">fct_relevel</span>(type, <span class="st">"Large airport"</span>, <span class="st">"Medium airport"</span>,</span>
<span id="cb18-15"><a href="#cb18-15" aria-hidden="true" tabindex="-1"></a>                            <span class="st">"Small airport"</span>, <span class="st">"Heliport"</span>, <span class="st">"Closed"</span>)) </span>
<span id="cb18-16"><a href="#cb18-16" aria-hidden="true" tabindex="-1"></a><span class="co"># Obtain Ecuador but also surrounding countries for context</span></span>
<span id="cb18-17"><a href="#cb18-17" aria-hidden="true" tabindex="-1"></a>countries <span class="ot">=</span> <span class="fu">ne_countries</span>(<span class="at">scale =</span> <span class="dv">50</span>, <span class="at">country =</span> <span class="fu">c</span>(<span class="st">"Colombia"</span>,<span class="st">"Ecuador"</span>,<span class="st">"Peru"</span>))</span>
<span id="cb18-18"><a href="#cb18-18" aria-hidden="true" tabindex="-1"></a><span class="co"># Extract Ecuador to obtain its bounding box and focus on it in coord_sf</span></span>
<span id="cb18-19"><a href="#cb18-19" aria-hidden="true" tabindex="-1"></a>ecuador <span class="ot">=</span> countries <span class="sc">|&gt;</span> <span class="fu">filter</span>(sovereignt <span class="sc">==</span> <span class="st">"Ecuador"</span>)</span>
<span id="cb18-20"><a href="#cb18-20" aria-hidden="true" tabindex="-1"></a>ec_bbox <span class="ot">=</span> ecuador <span class="sc">|&gt;</span> </span>
<span id="cb18-21"><a href="#cb18-21" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Transform before getting the bounding box to match the CRS in the plot</span></span>
<span id="cb18-22"><a href="#cb18-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">st_transform</span>(<span class="dv">24817</span>) <span class="sc">|&gt;</span> <span class="fu">st_bbox</span>()</span>
<span id="cb18-23"><a href="#cb18-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-24"><a href="#cb18-24" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb18-25"><a href="#cb18-25" aria-hidden="true" tabindex="-1"></a>  <span class="co"># add the country layer</span></span>
<span id="cb18-26"><a href="#cb18-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_sf</span>(<span class="at">data =</span> countries, <span class="at">fill =</span> <span class="st">"grey90"</span>, <span class="at">color =</span> <span class="st">"white"</span>) <span class="sc">+</span></span>
<span id="cb18-27"><a href="#cb18-27" aria-hidden="true" tabindex="-1"></a>  <span class="co"># add the data, changed the shape to a dot with a fill and border color, </span></span>
<span id="cb18-28"><a href="#cb18-28" aria-hidden="true" tabindex="-1"></a>  <span class="co"># assgined an alpha or opacity to not oclude the points</span></span>
<span id="cb18-29"><a href="#cb18-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_sf</span>(<span class="at">data =</span> data_sf_ec, <span class="fu">aes</span>(<span class="at">fill =</span> type, <span class="at">size =</span> type),</span>
<span id="cb18-30"><a href="#cb18-30" aria-hidden="true" tabindex="-1"></a>          <span class="at">shape =</span> <span class="dv">21</span>, <span class="at">alpha =</span> <span class="fl">0.8</span>) <span class="sc">+</span></span>
<span id="cb18-31"><a href="#cb18-31" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Change the fill palette</span></span>
<span id="cb18-32"><a href="#cb18-32" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_brewer</span>(<span class="st">"Airport type"</span>, <span class="at">palette =</span> <span class="st">"Dark2"</span>) <span class="sc">+</span></span>
<span id="cb18-33"><a href="#cb18-33" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Manually assign point sizes</span></span>
<span id="cb18-34"><a href="#cb18-34" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_size_manual</span>(<span class="st">"Airport type"</span>, <span class="at">values =</span> <span class="fu">c</span>(<span class="dv">6</span>, <span class="dv">4</span>, <span class="dv">2</span>, <span class="dv">1</span>, <span class="fl">0.25</span>)) <span class="sc">+</span></span>
<span id="cb18-35"><a href="#cb18-35" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Change the CRS to a projected one to avoid distorsions. </span></span>
<span id="cb18-36"><a href="#cb18-36" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Focus the map on Ecuador by using the bounding box extent</span></span>
<span id="cb18-37"><a href="#cb18-37" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_sf</span>(</span>
<span id="cb18-38"><a href="#cb18-38" aria-hidden="true" tabindex="-1"></a>    <span class="at">crs =</span> <span class="dv">24817</span>,</span>
<span id="cb18-39"><a href="#cb18-39" aria-hidden="true" tabindex="-1"></a>    <span class="at">xlim =</span> <span class="fu">c</span>(ec_bbox[<span class="st">"xmin"</span>], ec_bbox[<span class="st">"xmax"</span>]),</span>
<span id="cb18-40"><a href="#cb18-40" aria-hidden="true" tabindex="-1"></a>    <span class="at">ylim =</span> <span class="fu">c</span>(ec_bbox[<span class="st">"ymin"</span>], ec_bbox[<span class="st">"ymax"</span>])</span>
<span id="cb18-41"><a href="#cb18-41" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb18-42"><a href="#cb18-42" aria-hidden="true" tabindex="-1"></a>  <span class="co"># use a more minimal theme</span></span>
<span id="cb18-43"><a href="#cb18-43" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>() <span class="sc">+</span></span>
<span id="cb18-44"><a href="#cb18-44" aria-hidden="true" tabindex="-1"></a>  <span class="co"># change the legend to the bottom</span></span>
<span id="cb18-45"><a href="#cb18-45" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"bottom"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display page-columns page-full">
<div class="page-columns page-full">
<figure class="figure page-columns page-full">
<p class="page-columns page-full"><img src="session_3_files/figure-html/unnamed-chunk-19-1.png" class="img-fluid figure-img column-page" width="3600"></p>
</figure>
</div>
</div>
</div>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Things to try at home‚Ä¶
</div>
</div>
<div class="callout-body-container callout-body">
<p>‚Ä¶ you know, if you are bored.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://c.tenor.com/TpfmCmRN98gAAAAC/tenor.gif" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:20.0%"></p>
</figure>
</div>
<p>You can keep playing with your map to get familiar with the ggplot package, customise it further, add scale and north arrows‚Ä¶ your imagination (and maybe the ggplot extensions available) is the limit.</p>
<p>Another thing you can try is to create a function that automatically generates the map for a given country.</p>
</div>
</div>
</section>
</section>
<section id="further-reading" class="level2" data-number="3.4">
<h2 data-number="3.4" class="anchored" data-anchor-id="further-reading"><span class="header-section-number">3.4</span> Further reading:</h2>
<ul>
<li><a href="https://r4ds.hadley.nz/data-import">Data import</a> chapter <span class="citation" data-cites="r_data_science">(<a href="../refs/references.html#ref-r_data_science" role="doc-biblioref">Wickham, √áetinkaya-Rundel, et al., 2023</a>)</span></li>
<li><a href="https://r4ds.hadley.nz/data-tidy">Tidy data</a> chapter <span class="citation" data-cites="r_data_science">(<a href="../refs/references.html#ref-r_data_science" role="doc-biblioref">Wickham, √áetinkaya-Rundel, et al., 2023</a>)</span></li>
<li><a href="https://r.geocompx.org/intro#history-of-r-spatial">History of R-Spatial</a> section <span class="citation" data-cites="lovelace2019geocomputation">(<a href="../refs/references.html#ref-lovelace2019geocomputation" role="doc-biblioref">Lovelace et al., 2019</a>)</span></li>
<li><a href="https://r-spatial.org/book/part-1.html">Spatial data</a> section, chapters 1-6 <span class="citation" data-cites="sf2023">(<a href="../refs/references.html#ref-sf2023" role="doc-biblioref">E. Pebesma &amp; Bivand, 2023</a>)</span></li>
<li><a href="https://r.geocompx.org/spatial-class">Geographic Data in R</a> chapter <span class="citation" data-cites="lovelace2019geocomputation">(<a href="../refs/references.html#ref-lovelace2019geocomputation" role="doc-biblioref">Lovelace et al., 2019</a>)</span></li>
<li><a href="https://r-spatial.github.io/sf/articles/sf1.html">Simple Features for R</a> vignette <span class="citation" data-cites="R-sf">(<a href="../refs/references.html#ref-R-sf" role="doc-biblioref">E. Pebesma, 2025</a>)</span></li>
</ul>


<div id="refs" class="references csl-bib-body hanging-indent" data-entry-spacing="0" data-line-spacing="2" role="list" style="display: none">
<div id="ref-agarwal2023r" class="csl-entry" role="listitem">
Agarwal, A. (2023). <em>R vs python: Which is better for data science in 2023</em>. <a href="https://externlabs.com/blogs/r-vs-python/" class="uri">https://externlabs.com/blogs/r-vs-python/</a>.
</div>
<div id="ref-R-quarto" class="csl-entry" role="listitem">
Allaire, J., &amp; Dervieux, C. (2024). <em>Quarto: R interface to quarto markdown publishing system</em>. <a href="https://github.com/quarto-dev/quarto-r">https://github.com/quarto-dev/quarto-r</a>
</div>
<div id="ref-andreo2024grass" class="csl-entry" role="listitem">
Andreo, V. (2024). <em>Get started with GRASS &amp; r: The rgrass package</em>. <a href="https://grass-tutorials.osgeo.org/content/tutorials/get_started/fast_track_grass_and_R.html" class="uri">https://grass-tutorials.osgeo.org/content/tutorials/get_started/fast_track_grass_and_R.html</a>.
</div>
<div id="ref-R-gdalcubes" class="csl-entry" role="listitem">
Appel, M. (2024). <em>Gdalcubes: Earth observation data cubes from satellite image collections</em>. <a href="https://github.com/appelmar/gdalcubes">https://github.com/appelmar/gdalcubes</a>
</div>
<div id="ref-gdalcubes2019" class="csl-entry" role="listitem">
Appel, M., &amp; Pebesma, E. (2019). On-demand processing of data cubes from satellite image collections with the gdalcubes library. <em>Data</em>, <em>4</em>(3). <a href="https://www.mdpi.com/2306-5729/4/3/92">https://www.mdpi.com/2306-5729/4/3/92</a>
</div>
<div id="ref-gdalcubes2021" class="csl-entry" role="listitem">
Appel, M., Pebesma, E., &amp; Mohr, M. (2021). <em>Cloud-based processing of satellite image collections in r using STAC, COGs, and on-demand data cubes</em>. <a href="https://r-spatial.org/r/2021/04/23/cloud-based-cubes.html">https://r-spatial.org/r/2021/04/23/cloud-based-cubes.html</a>
</div>
<div id="ref-R-mapview" class="csl-entry" role="listitem">
Appelhans, T., Detsch, F., Reudenbach, C., &amp; Woellauer, S. (2023). <em>Mapview: Interactive viewing of spatial data in r</em>. <a href="https://github.com/r-spatial/mapview">https://github.com/r-spatial/mapview</a>
</div>
<div id="ref-R-rgee" class="csl-entry" role="listitem">
Aybar, C. (2023). <em>Rgee: R bindings for calling the earth engine API</em>. <a href="https://github.com/r-spatial/rgee/">https://github.com/r-spatial/rgee/</a>
</div>
<div id="ref-spatstat2015" class="csl-entry" role="listitem">
Baddeley, A., Rubak, E., &amp; Turner, R. (2015). <em>Spatial point patterns: Methodology and applications with <span>R</span></em>. Chapman; Hall/CRC Press. <a href="https://www.routledge.com/Spatial-Point-Patterns-Methodology-and-Applications-with-R/Baddeley-Rubak-Turner/p/book/9781482210200/">https://www.routledge.com/Spatial-Point-Patterns-Methodology-and-Applications-with-R/Baddeley-Rubak-Turner/p/book/9781482210200/</a>
</div>
<div id="ref-spatstat2005" class="csl-entry" role="listitem">
Baddeley, A., &amp; Turner, R. (2005). <span class="nocase">spatstat</span>: An <span>R</span> package for analyzing spatial point patterns. <em>Journal of Statistical Software</em>, <em>12</em>(6), 1‚Äì42. <a href="https://doi.org/10.18637/jss.v012.i06">https://doi.org/10.18637/jss.v012.i06</a>
</div>
<div id="ref-spatstat2013" class="csl-entry" role="listitem">
Baddeley, A., Turner, R., Mateu, J., &amp; Bevan, A. (2013). Hybrids of gibbs point process models and their implementation. <em>Journal of Statistical Software</em>, <em>55</em>(11), 1‚Äì43. <a href="https://doi.org/10.18637/jss.v055.i11">https://doi.org/10.18637/jss.v055.i11</a>
</div>
<div id="ref-bivand2022rgrass" class="csl-entry" role="listitem">
Bivand, R. (2022). <em>Modernizing the r-GRASS interface: Confronting barn-raised OSGeo libraries and the evolving r.*spatial package ecosystem</em>. <a href="https://rsbivand.github.io/foss4g_2022/modernizing_220822.html" class="uri">https://rsbivand.github.io/foss4g_2022/modernizing_220822.html</a>.
</div>
<div id="ref-R-rgrass" class="csl-entry" role="listitem">
Bivand, R. (2024a). <em>Rgrass: Interface between GRASS geographical information system and r</em>. <a href="https://rsbivand.github.io/rgrass/">https://rsbivand.github.io/rgrass/</a>
</div>
<div id="ref-R-spdep" class="csl-entry" role="listitem">
Bivand, R. (2024b). <em>Spdep: Spatial dependence: Weighting schemes, statistics</em>. <a href="https://github.com/r-spatial/spdep/">https://github.com/r-spatial/spdep/</a>
</div>
<div id="ref-spdep2013" class="csl-entry" role="listitem">
Bivand, R. S., Pebesma, E., &amp; G√≥mez-Rubio, V. (2013). <em>Applied spatial data analysis with <span>R</span>, second edition</em>. Springer, NY. <a href="https://asdar-book.org/">https://asdar-book.org/</a>
</div>
<div id="ref-R-spData" class="csl-entry" role="listitem">
Bivand, R., Nowosad, J., &amp; Lovelace, R. (2024). <em>spData: Datasets for spatial analysis</em>. <a href="https://jakubnowosad.com/spData/">https://jakubnowosad.com/spData/</a>
</div>
<div id="ref-spdep2018" class="csl-entry" role="listitem">
Bivand, R., &amp; Wong, D. W. S. (2018). Comparing implementations of global and local indicators of spatial association. <em>TEST</em>, <em>27</em>(3), 716‚Äì748. <a href="https://doi.org/10.1007/s11749-018-0599-x">https://doi.org/10.1007/s11749-018-0599-x</a>
</div>
<div id="ref-Camara_sits_2023" class="csl-entry" role="listitem">
C√¢mara, G., Simoes, R., Souza, F., Pelletier, C., Sanchez, A., Andrade, P., Ferreira, K., &amp; Queiroz, G. (2023). <em><span class="nocase">sits</span>: Satellite image time series analysis on <span>Earth</span> observation data cubes</em>. <a href="https://e-sensing.github.io/sitsbook/index.html">https://e-sensing.github.io/sitsbook/index.html</a>
</div>
<div id="ref-cetinkaya2024quarto" class="csl-entry" role="listitem">
√áetinkaya-Rundel, M. (2024). <em>Quarto dashboards video series</em>. <a href="https://quarto.org/docs/blog/posts/2024-11-22-dashboards-workshop/" class="uri">https://quarto.org/docs/blog/posts/2024-11-22-dashboards-workshop/</a>.
</div>
<div id="ref-R-qgisprocess" class="csl-entry" role="listitem">
Dunnington, D., Vanderhaeghe, F., Caha, J., &amp; Muenchow, J. (2024a). <em>Qgisprocess: Use QGIS processing algorithms</em>. <a href="https://r-spatial.github.io/qgisprocess/">https://r-spatial.github.io/qgisprocess/</a>
</div>
<div id="ref-qgisprocess2024" class="csl-entry" role="listitem">
Dunnington, D., Vanderhaeghe, F., Caha, J., &amp; Muenchow, J. (2024b). <em>R package qgisprocess: Use QGIS processing algorithms. Version 0.4.1</em>. <a href="https://r-spatial.github.io/qgisprocess/">https://r-spatial.github.io/qgisprocess/</a>
</div>
<div id="ref-R-digest" class="csl-entry" role="listitem">
Eddelbuettel, D. (2024). <em>Digest: Create compact hash digests of r objects</em>. <a href="https://github.com/eddelbuettel/digest">https://github.com/eddelbuettel/digest</a>
</div>
<div id="ref-gstat2016" class="csl-entry" role="listitem">
Gr√§ler, B., Pebesma, E., &amp; Heuvelink, G. (2016). Spatio-temporal interpolation using gstat. <em>The R Journal</em>, <em>8</em>, 204‚Äì218. <a href="https://journal.r-project.org/archive/2016/RJ-2016-014/index.html">https://journal.r-project.org/archive/2016/RJ-2016-014/index.html</a>
</div>
<div id="ref-grolemund2014hands" class="csl-entry" role="listitem">
Grolemund, G. (2014). <em>Hands-on programming with r</em>. "O‚ÄôReilly Media, Inc.".
</div>
<div id="ref-lubridate2011" class="csl-entry" role="listitem">
Grolemund, G., &amp; Wickham, H. (2011). Dates and times made easy with <span class="nocase">lubridate</span>. <em>Journal of Statistical Software</em>, <em>40</em>(3), 1‚Äì25. <a href="https://www.jstatsoft.org/v40/i03/">https://www.jstatsoft.org/v40/i03/</a>
</div>
<div id="ref-Wickham2023" class="csl-entry" role="listitem">
Hadley Wickham, J. B. (2023). <em>R packages</em> (2nd ed.). O‚ÄôReilly Media.
</div>
<div id="ref-Hijmans_terra_2020" class="csl-entry" role="listitem">
Hijmans, R. J. (2020). <em>Terra and luna: New r packages scalable geospatial data analysis</em>. Big Data in Agriculture - 2020 Convention. <a href="https://www.youtube.com/watch?v=5b2xhqlH49I&amp;t=690s">https://www.youtube.com/watch?v=5b2xhqlH49I&amp;t=690s</a>
</div>
<div id="ref-rspatial_hijmans" class="csl-entry" role="listitem">
Hijmans, R. J. (2024a). <em>Spatial data science with <span class="nocase">R and terra</span></em>. <a href="https://rspatial.org/index.html" class="uri">https://rspatial.org/index.html</a>.
</div>
<div id="ref-R-terra" class="csl-entry" role="listitem">
Hijmans, R. J. (2024b). <em>Terra: Spatial data analysis</em>. <a href="https://rspatial.org/">https://rspatial.org/</a>
</div>
<div id="ref-jenny_bryan2025let" class="csl-entry" role="listitem">
Jenny Bryan, J. H., the STAT 545 TAs. (2025). <em>Let‚Äôs git started | happy git and GitHub for the useR</em>. <a href="https://happygitwithr.com/" class="uri">https://happygitwithr.com/</a>.
</div>
<div id="ref-R-rgeoda" class="csl-entry" role="listitem">
Li, X., &amp; Anselin, L. (2024). <em>Rgeoda: R library for spatial data analysis</em>. <a href="https://github.com/geodacenter/rgeoda/">https://github.com/geodacenter/rgeoda/</a>
</div>
<div id="ref-Loiseau_2020" class="csl-entry" role="listitem">
Loiseau, N., Mouquet, N., Casajus, N., Greni√É¬©, M., Gu√É¬©guen, M., Maitner, B., Mouillot, D., Ostling, A., Renaud, J., Tucker, C., Velez, L., Thuiller, W., &amp; Violle, C. (2020). Global distribution and conservation status of ecologically rare mammal and bird species. <em>Nature Communications</em>, <em>11</em>(1). <a href="https://doi.org/10.1038/s41467-020-18779-w">https://doi.org/10.1038/s41467-020-18779-w</a>
</div>
<div id="ref-lovelace2019geocomputation" class="csl-entry" role="listitem">
Lovelace, R., Nowosad, J., &amp; Muenchow, J. (2019). <em>Geocomputation with <span>R</span></em>. CRC Press.
</div>
<div id="ref-rsi" class="csl-entry" role="listitem">
Mahoney, M. (n.d.). <em>Rsi: Efficiently retrieve and process satellite imagery</em> (Version 0.2.0.9000). <a href="https://doi.org/10.5281/zenodo.10926857">https://doi.org/10.5281/zenodo.10926857</a>
</div>
<div id="ref-R-rsi" class="csl-entry" role="listitem">
Mahoney, M. (2024). <em>Rsi: Efficiently retrieve and process satellite imagery</em>. <a href="https://github.com/Permian-Global-Research/rsi">https://github.com/Permian-Global-Research/rsi</a>
</div>
<div id="ref-dodgr2019" class="csl-entry" role="listitem">
Mark Padgham. (2019). Dodgr: An r package for network flow aggregation. <em>Transport Findings</em>. <a href="https://doi.org/10.32866/6945">https://doi.org/10.32866/6945</a>
</div>
<div id="ref-R-rnaturalearth" class="csl-entry" role="listitem">
Massicotte, P., &amp; South, A. (2023). <em>Rnaturalearth: World map data from natural earth</em>. <a href="https://docs.ropensci.org/rnaturalearth/">https://docs.ropensci.org/rnaturalearth/</a>
</div>
<div id="ref-meyer2022" class="csl-entry" role="listitem">
Meyer, C. (2022). <em>Understanding the basics of package writing in r</em>. <a href="https://cosimameyer.com/post/understanding-the-basics-of-package-writing-in-r/" class="uri">https://cosimameyer.com/post/understanding-the-basics-of-package-writing-in-r/</a>.
</div>
<div id="ref-R-tibble" class="csl-entry" role="listitem">
M√ºller, K., &amp; Wickham, H. (2023). <em>Tibble: Simple data frames</em>. <a href="https://tibble.tidyverse.org/">https://tibble.tidyverse.org/</a>
</div>
<div id="ref-R-dodgr" class="csl-entry" role="listitem">
Padgham, M., Petutschnig, A., &amp; Cooley, D. (2024). <em>Dodgr: Distances on directed graphs</em>. <a href="https://github.com/UrbanAnalyst/dodgr">https://github.com/UrbanAnalyst/dodgr</a>
</div>
<div id="ref-R-sfdep" class="csl-entry" role="listitem">
Parry, J., &amp; Locke, D. (2024). <em>Sfdep: Spatial dependence for simple features</em>. <a href="https://sfdep.josiahparry.com">https://sfdep.josiahparry.com</a>
</div>
<div id="ref-R-Rsagacmd" class="csl-entry" role="listitem">
Pawley, S. (2024). <em>Rsagacmd: Linking r with the open-source SAGA-GIS software</em>. <a href="https://stevenpawley.github.io/Rsagacmd/">https://stevenpawley.github.io/Rsagacmd/</a>
</div>
<div id="ref-sf2018" class="csl-entry" role="listitem">
Pebesma, E. (2018). <span class="nocase">Simple Features for R: Standardized Support for Spatial Vector Data</span>. <em><span>The R Journal</span></em>, <em>10</em>(1), 439‚Äì446. <a href="https://doi.org/10.32614/RJ-2018-009">https://doi.org/10.32614/RJ-2018-009</a>
</div>
<div id="ref-R-stars" class="csl-entry" role="listitem">
Pebesma, E. (2024). <em>Stars: Spatiotemporal arrays, raster and vector data cubes</em>. <a href="https://r-spatial.github.io/stars/">https://r-spatial.github.io/stars/</a>
</div>
<div id="ref-R-sf" class="csl-entry" role="listitem">
Pebesma, E. (2025). <em>Sf: Simple features for r</em>. <a href="https://r-spatial.github.io/sf/">https://r-spatial.github.io/sf/</a>
</div>
<div id="ref-gstat2004" class="csl-entry" role="listitem">
Pebesma, E. J. (2004). Multivariable geostatistics in <span>S</span>: The gstat package. <em>Computers &amp; Geosciences</em>, <em>30</em>, 683‚Äì691.
</div>
<div id="ref-sf2023" class="csl-entry" role="listitem">
Pebesma, E., &amp; Bivand, R. (2023). <em><span class="nocase">Spatial Data Science: With applications in R</span></em>. <span>Chapman and Hall/CRC</span>. <a href="https://doi.org/10.1201/9780429459016">https://doi.org/10.1201/9780429459016</a>
</div>
<div id="ref-R-gstat" class="csl-entry" role="listitem">
Pebesma, E., &amp; Graeler, B. (2024). <em>Gstat: Spatial and spatio-temporal geostatistical modelling, prediction and simulation</em>. <a href="https://github.com/r-spatial/gstat/">https://github.com/r-spatial/gstat/</a>
</div>
<div id="ref-R-tidygraph" class="csl-entry" role="listitem">
Pedersen, T. L. (2024). <em>Tidygraph: A tidy API for graph manipulation</em>. <a href="https://tidygraph.data-imaginist.com">https://tidygraph.data-imaginist.com</a>
</div>
<div id="ref-nlme2000" class="csl-entry" role="listitem">
Pinheiro, J. C., &amp; Bates, D. M. (2000). <em>Mixed-effects models in s and s-PLUS</em>. Springer. <a href="https://doi.org/10.1007/b98882">https://doi.org/10.1007/b98882</a>
</div>
<div id="ref-R-nlme" class="csl-entry" role="listitem">
Pinheiro, J., Bates, D., &amp; R Core Team. (2024). <em>Nlme: Linear and nonlinear mixed effects models</em>. <a href="https://svn.r-project.org/R-packages/trunk/nlme/">https://svn.r-project.org/R-packages/trunk/nlme/</a>
</div>
<div id="ref-R-abind" class="csl-entry" role="listitem">
Plate, T., &amp; Heiberger, R. (2024). <em>Abind: Combine multidimensional arrays</em>.
</div>
<div id="ref-R-base" class="csl-entry" role="listitem">
R Core Team. (2024). <em>R: A language and environment for statistical computing</em>. R Foundation for Statistical Computing. <a href="https://www.R-project.org/">https://www.R-project.org/</a>
</div>
<div id="ref-spdep2022" class="csl-entry" role="listitem">
Roger Bivand. (2022). R packages for analyzing spatial data: A comparative case study with areal data. <em>Geographical Analysis</em>, <em>54</em>(3), 488‚Äì518. <a href="https://doi.org/10.1111/gean.12319">https://doi.org/10.1111/gean.12319</a>
</div>
<div id="ref-rydzik2024" class="csl-entry" role="listitem">
Rydzik, M. (2024, January 10). <em>An Overview of the RSI <span>R</span> Package for Retrieving Satellite Imagery and Calculating Spectral Indices</em>. <a href="https://geocompx.org/post/2024/rsi-bp1/">https://geocompx.org/post/2024/rsi-bp1/</a>
</div>
<div id="ref-sits2021" class="csl-entry" role="listitem">
Simoes, R., Camara, G., Queiroz, G., Souza, F., Andrade, P., Santos, L., Carvalho, A., &amp; Ferreira, K. (2021). Satellite image time series analysis for big earth observation data. <em>Remote Sensing</em>, <em>13</em>(13), 2428. <a href="https://doi.org/10.3390/rs13132428">https://doi.org/10.3390/rs13132428</a>
</div>
<div id="ref-R-sits" class="csl-entry" role="listitem">
Simoes, R., Camara, G., Souza, F., &amp; Carlos, F. (2024). <em>Sits: Satellite image time series analysis for earth observation data cubes</em>. <a href="https://github.com/e-sensing/sits/">https://github.com/e-sensing/sits/</a>
</div>
<div id="ref-R-rstac" class="csl-entry" role="listitem">
Simoes, R., Carvalho, F., &amp; Brazil Data Cube Team. (2024). <em>Rstac: Client library for SpatioTemporal asset catalog</em>. <a href="https://brazil-data-cube.github.io/rstac/">https://brazil-data-cube.github.io/rstac/</a>
</div>
<div id="ref-rstac2021" class="csl-entry" role="listitem">
Simoes, R., Souza, F., Zaglia, M., Queiroz, G. R., Santos, R., &amp; Ferreira, K. (2021). Rstac: An r package to access spatiotemporal asset catalog satellite imagery. <em>2021 IEEE International Geoscience and Remote Sensing Symposium IGARSS</em>, 7674‚Äì7677. <a href="https://doi.org/10.1109/IGARSS47720.2021.9553518">https://doi.org/10.1109/IGARSS47720.2021.9553518</a>
</div>
<div id="ref-R-lubridate" class="csl-entry" role="listitem">
Spinu, V., Grolemund, G., &amp; Wickham, H. (2023). <em>Lubridate: Make dealing with dates a little easier</em>. <a href="https://lubridate.tidyverse.org">https://lubridate.tidyverse.org</a>
</div>
<div id="ref-R-rpart" class="csl-entry" role="listitem">
Therneau, T., &amp; Atkinson, B. (2023). <em>Rpart: Recursive partitioning and regression trees</em>. <a href="https://github.com/bethatkinson/rpart">https://github.com/bethatkinson/rpart</a>
</div>
<div id="ref-R-sfnetworks" class="csl-entry" role="listitem">
van der Meer, L., Abad, L., Gilardi, A., &amp; Lovelace, R. (2025). <em>Sfnetworks: Tidy geospatial networks</em>. <a href="https://luukvdmeer.github.io/sfnetworks/">https://luukvdmeer.github.io/sfnetworks/</a>
</div>
<div id="ref-vreede2023" class="csl-entry" role="listitem">
Vreede, B. (2023). <em>Why your research deserves to be an r package</em>. <a href="https://blog.esciencecenter.nl/why-your-research-deserves-to-be-an-r-package-3737a73501c" class="uri">https://blog.esciencecenter.nl/why-your-research-deserves-to-be-an-r-package-3737a73501c</a>.
</div>
<div id="ref-Vuorre_2020" class="csl-entry" role="listitem">
Vuorre, M., &amp; Crump, M. J. C. (2020). Sharing and organizing research products as r packages. <em>Behavior Research Methods</em>, <em>53</em>(2), 792√¢¬Ä¬ì802. <a href="https://doi.org/10.3758/s13428-020-01436-x">https://doi.org/10.3758/s13428-020-01436-x</a>
</div>
<div id="ref-julia-python-r_cheatsheet" class="csl-entry" role="listitem">
Watson, S. S. (n.d.). <em><span class="nocase">A Julia-Python-R reference sheet</span></em>. Retrieved November 21, 2024, from <a href="https://docslib.org/doc/2547802/julia-python-r-cheatsheet">https://docslib.org/doc/2547802/julia-python-r-cheatsheet</a>
</div>
<div id="ref-testthat2011" class="csl-entry" role="listitem">
Wickham, H. (2011). Testthat: Get started with testing. <em>The R Journal</em>, <em>3</em>, 5‚Äì10. <a href="https://journal.r-project.org/archive/2011-1/RJournal_2011-1_Wickham.pdf">https://journal.r-project.org/archive/2011-1/RJournal_2011-1_Wickham.pdf</a>
</div>
<div id="ref-Wickham_2014" class="csl-entry" role="listitem">
Wickham, H. (2014). Tidy data. <em>Journal of Statistical Software</em>, <em>59</em>(10). <a href="https://doi.org/10.18637/jss.v059.i10">https://doi.org/10.18637/jss.v059.i10</a>
</div>
<div id="ref-ggplot22016" class="csl-entry" role="listitem">
Wickham, H. (2016). <em>ggplot2: Elegant graphics for data analysis</em>. Springer-Verlag New York. <a href="https://ggplot2.tidyverse.org">https://ggplot2.tidyverse.org</a>
</div>
<div id="ref-Wickham_2019" class="csl-entry" role="listitem">
Wickham, H. (2019). <em>Advanced <span>R</span></em> (p. 588). CRC Press.
</div>
<div id="ref-Wickham2021" class="csl-entry" role="listitem">
Wickham, H. (2021). <em>Mastering shiny</em>. "O‚ÄôReilly Media, Inc.".
</div>
<div id="ref-R-forcats" class="csl-entry" role="listitem">
Wickham, H. (2023a). <em>Forcats: Tools for working with categorical variables (factors)</em>. <a href="https://forcats.tidyverse.org/">https://forcats.tidyverse.org/</a>
</div>
<div id="ref-R-stringr" class="csl-entry" role="listitem">
Wickham, H. (2023b). <em>Stringr: Simple, consistent wrappers for common string operations</em>. <a href="https://stringr.tidyverse.org">https://stringr.tidyverse.org</a>
</div>
<div id="ref-R-tidyverse" class="csl-entry" role="listitem">
Wickham, H. (2023c). <em>Tidyverse: Easily install and load the tidyverse</em>. <a href="https://tidyverse.tidyverse.org">https://tidyverse.tidyverse.org</a>
</div>
<div id="ref-R-testthat" class="csl-entry" role="listitem">
Wickham, H. (2024). <em>Testthat: Unit testing for r</em>. <a href="https://testthat.r-lib.org">https://testthat.r-lib.org</a>
</div>
<div id="ref-tidyverse2019" class="csl-entry" role="listitem">
Wickham, H., Averick, M., Bryan, J., Chang, W., McGowan, L. D., Fran√ßois, R., Grolemund, G., Hayes, A., Henry, L., Hester, J., Kuhn, M., Pedersen, T. L., Miller, E., Bache, S. M., M√ºller, K., Ooms, J., Robinson, D., Seidel, D. P., Spinu, V., ‚Ä¶ Yutani, H. (2019). Welcome to the <span class="nocase">tidyverse</span>. <em>Journal of Open Source Software</em>, <em>4</em>(43), 1686. <a href="https://doi.org/10.21105/joss.01686">https://doi.org/10.21105/joss.01686</a>
</div>
<div id="ref-R-usethis" class="csl-entry" role="listitem">
Wickham, H., Bryan, J., Barrett, M., &amp; Teucher, A. (2024). <em>Usethis: Automate package and project setup</em>. <a href="https://usethis.r-lib.org">https://usethis.r-lib.org</a>
</div>
<div id="ref-r_data_science" class="csl-entry" role="listitem">
Wickham, H., √áetinkaya-Rundel, M., &amp; Grolemund, G. (2023). <em>R for data science</em> (2nd ed.). O‚ÄôReilly Media.
</div>
<div id="ref-R-ggplot2" class="csl-entry" role="listitem">
Wickham, H., Chang, W., Henry, L., Pedersen, T. L., Takahashi, K., Wilke, C., Woo, K., Yutani, H., Dunnington, D., &amp; van den Brand, T. (2024). <em>ggplot2: Create elegant data visualisations using the grammar of graphics</em>. <a href="https://ggplot2.tidyverse.org">https://ggplot2.tidyverse.org</a>
</div>
<div id="ref-R-roxygen2" class="csl-entry" role="listitem">
Wickham, H., Danenberg, P., Cs√°rdi, G., &amp; Eugster, M. (2024). <em>roxygen2: In-line documentation for r</em>. <a href="https://roxygen2.r-lib.org/">https://roxygen2.r-lib.org/</a>
</div>
<div id="ref-R-dplyr" class="csl-entry" role="listitem">
Wickham, H., Fran√ßois, R., Henry, L., M√ºller, K., &amp; Vaughan, D. (2023). <em>Dplyr: A grammar of data manipulation</em>. <a href="https://dplyr.tidyverse.org">https://dplyr.tidyverse.org</a>
</div>
<div id="ref-R-purrr" class="csl-entry" role="listitem">
Wickham, H., &amp; Henry, L. (2023). <em>Purrr: Functional programming tools</em>. <a href="https://purrr.tidyverse.org/">https://purrr.tidyverse.org/</a>
</div>
<div id="ref-R-pkgdown" class="csl-entry" role="listitem">
Wickham, H., Hesselberth, J., Salmon, M., Roy, O., &amp; Br√ºggemann, S. (2024). <em>Pkgdown: Make static HTML documentation for a package</em>. <a href="https://pkgdown.r-lib.org/">https://pkgdown.r-lib.org/</a>
</div>
<div id="ref-R-readr" class="csl-entry" role="listitem">
Wickham, H., Hester, J., &amp; Bryan, J. (2024). <em>Readr: Read rectangular text data</em>. <a href="https://readr.tidyverse.org">https://readr.tidyverse.org</a>
</div>
<div id="ref-R-devtools" class="csl-entry" role="listitem">
Wickham, H., Hester, J., Chang, W., &amp; Bryan, J. (2022). <em>Devtools: Tools to make developing r packages easier</em>. <a href="https://devtools.r-lib.org/">https://devtools.r-lib.org/</a>
</div>
<div id="ref-R-tidyr" class="csl-entry" role="listitem">
Wickham, H., Vaughan, D., &amp; Girlich, M. (2024). <em>Tidyr: Tidy messy data</em>. <a href="https://tidyr.tidyverse.org">https://tidyr.tidyverse.org</a>
</div>
<div id="ref-knitr2014" class="csl-entry" role="listitem">
Xie, Y. (2014). Knitr: A comprehensive tool for reproducible research in <span>R</span>. In V. Stodden, F. Leisch, &amp; R. D. Peng (Eds.), <em>Implementing reproducible computational research</em>. Chapman; Hall/CRC.
</div>
<div id="ref-knitr2015" class="csl-entry" role="listitem">
Xie, Y. (2015). <em>Dynamic documents with <span>R</span> and knitr</em> (2nd ed.). Chapman; Hall/CRC. <a href="https://yihui.org/knitr/">https://yihui.org/knitr/</a>
</div>
<div id="ref-R-knitr" class="csl-entry" role="listitem">
Xie, Y. (2024). <em>Knitr: A general-purpose package for dynamic report generation in r</em>. <a href="https://yihui.org/knitr/">https://yihui.org/knitr/</a>
</div>
</div>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleGiscusIfUsed = (isAlternate, darkModeDefault) => {
    const baseTheme = document.querySelector('#giscus-base-theme')?.value ?? 'light';
    const alternateTheme = document.querySelector('#giscus-alt-theme')?.value ?? 'dark';
    let newTheme = '';
    if(darkModeDefault) {
      newTheme = isAlternate ? baseTheme : alternateTheme;
    } else {
      newTheme = isAlternate ? alternateTheme : baseTheme;
    }
    const changeGiscusTheme = () => {
      // From: https://github.com/giscus/giscus/issues/336
      const sendMessage = (message) => {
        const iframe = document.querySelector('iframe.giscus-frame');
        if (!iframe) return;
        iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
      }
      sendMessage({
        setConfig: {
          theme: newTheme
        }
      });
    }
    const isGiscussLoaded = window.document.querySelector('iframe.giscus-frame') !== null;
    if (isGiscussLoaded) {
      changeGiscusTheme();
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  const darkModeDefault = false;
  let localAlternateSentinel = darkModeDefault ? 'alternate' : 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
    toggleGiscusIfUsed(toAlternate, darkModeDefault);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "Óßã";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="../lessons/session_2.html" class="pagination-link" aria-label="R basics &amp; functions">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">R basics &amp; functions</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="../practicals/Practical1/preparation/Practical1-Base-R-Functions.html" class="pagination-link" aria-label="Practical 1">
        <span class="nav-page-text">Practical 1</span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
<p>Summer Semester 2025</p>
</div>   
    <div class="nav-footer-center">
<p>Department of Geoinformatics ‚Äî Z_GIS, University of Salzburg</p>
</div>
    <div class="nav-footer-right">
      <ul class="footer-items list-unstyled">
    <li class="nav-item">
    <a class="nav-link" href="../License.html">
<p>CC-BY-4.0</p>
</a>
  </li>  
</ul>
    </div>
  </div>
</footer>
<script>var lightboxQuarto = GLightbox({"descPosition":"bottom","openEffect":"zoom","selector":".lightbox","closeEffect":"zoom","loop":false});
(function() {
  let previousOnload = window.onload;
  window.onload = () => {
    if (previousOnload) {
      previousOnload();
    }
    lightboxQuarto.on('slide_before_load', (data) => {
      const { slideIndex, slideNode, slideConfig, player, trigger } = data;
      const href = trigger.getAttribute('href');
      if (href !== null) {
        const imgEl = window.document.querySelector(`a[href="${href}"] img`);
        if (imgEl !== null) {
          const srcAttr = imgEl.getAttribute("src");
          if (srcAttr && srcAttr.startsWith("data:")) {
            slideConfig.href = srcAttr;
          }
        }
      } 
    });
  
    lightboxQuarto.on('slide_after_load', (data) => {
      const { slideIndex, slideNode, slideConfig, player, trigger } = data;
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(slideNode);
      }
    });
  
  };
  
})();
          </script>




</body></html>